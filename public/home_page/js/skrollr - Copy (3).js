!function(e){e.fn.sisyphus=function(t){var n=e.map(this,function(t){return e(t).attr("id")+e(t).attr("name")}).join(),r=Sisyphus.getInstance(n);return r.protect(this,t),r};var t={};t.isAvailable=function(){if("object"==typeof e.jStorage)return!0;try{return localStorage.getItem}catch(t){return!1}},t.set=function(t,n){if("object"==typeof e.jStorage)e.jStorage.set(t,n+"");else try{localStorage.setItem(t,n+"")}catch(r){}},t.get=function(t){if("object"==typeof e.jStorage){var n=e.jStorage.get(t);return n?n.toString():n}return localStorage.getItem(t)},t.remove=function(t){"object"==typeof e.jStorage?e.jStorage.deleteKey(t):localStorage.removeItem(t)},Sisyphus=function(){function n(){return{setInstanceIdentifier:function(e){this.identifier=e},getInstanceIdentifier:function(){return this.identifier},setInitialOptions:function(n){var r={excludeFields:[],customKeySuffix:"",locationBased:!1,timeout:0,autoRelease:!0,onSave:function(){},onBeforeRestore:function(){},onRestore:function(){},onRelease:function(){}};this.options=this.options||e.extend(r,n),this.browserStorage=t},setOptions:function(t){this.options=this.options||this.setInitialOptions(t),this.options=e.extend(this.options,t)},protect:function(t,n){this.setOptions(n),t=t||{};var a=this;if(this.targets=this.targets||[],this.href=location.hostname+location.pathname+location.search+location.hash,this.targets=e.merge(this.targets,t),this.targets=e.unique(this.targets),this.targets=e(this.targets),!this.browserStorage.isAvailable())return!1;var i=a.options.onBeforeRestore.call(a);if((void 0===i||i)&&a.restoreAllData(),this.options.autoRelease&&a.bindReleaseData(),!r.started[this.getInstanceIdentifier()])if(a.isCKEditorPresent())var o=setInterval(function(){CKEDITOR.isLoaded&&(clearInterval(o),a.bindSaveData(),r.started[a.getInstanceIdentifier()]=!0)},100);else a.bindSaveData(),r.started[a.getInstanceIdentifier()]=!0},isCKEditorPresent:function(){return this.isCKEditorExists()?(CKEDITOR.isLoaded=!1,CKEDITOR.on("instanceReady",function(){CKEDITOR.isLoaded=!0}),!0):!1},isCKEditorExists:function(){return"undefined"!=typeof CKEDITOR},bindSaveData:function(){var t=this;t.options.timeout&&t.saveDataByTimeout(),t.targets.each(function(){var n=e(this).attr("id")+e(this).attr("name"),r=e(this).find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");r.each(function(){if(-1!==e.inArray(this,t.options.excludeFields))return!0;var r=e(this),a=(t.options.locationBased?t.href:"")+n+r.attr("name")+t.options.customKeySuffix;(r.is(":text")||r.is("textarea"))&&(t.options.timeout||t.bindSaveDataImmediately(r,a)),t.bindSaveDataOnChange(r,a)})})},saveAllData:function(){var t=this;t.targets.each(function(){var n=e(this).attr("id")+e(this).attr("name"),r=e(this).find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");r.each(function(){var r=e(this);if(-1!==e.inArray(this,t.options.excludeFields)||void 0===r.attr("name"))return!0;var a=(t.options.locationBased?t.href:"")+n+r.attr("name")+t.options.customKeySuffix,i=r.val();if(r.is(":checkbox"))-1!==r.attr("name").indexOf("[")?(i=[],e("[name='"+r.attr("name")+"']:checked").each(function(){i.push(e(this).val())})):i=r.is(":checked"),t.saveToBrowserStorage(a,i,!1);else if(r.is(":radio"))r.is(":checked")&&(i=r.val(),t.saveToBrowserStorage(a,i,!1));else if(t.isCKEditorExists()){var o;(o=CKEDITOR.instances[r.attr("name")]||CKEDITOR.instances[r.attr("id")])?(o.updateElement(),t.saveToBrowserStorage(a,r.val(),!1)):t.saveToBrowserStorage(a,i,!1)}else t.saveToBrowserStorage(a,i,!1)})}),t.options.onSave.call(t)},restoreAllData:function(){var t=this,n=!1;t.targets.each(function(){var r=e(this),a=e(this).attr("id")+e(this).attr("name"),i=r.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");i.each(function(){if(-1!==e.inArray(this,t.options.excludeFields))return!0;var r=e(this),i=(t.options.locationBased?t.href:"")+a+r.attr("name")+t.options.customKeySuffix,o=t.browserStorage.get(i);null!==o&&(t.restoreFieldsData(r,o),n=!0)})}),n&&t.options.onRestore.call(t)},restoreFieldsData:function(e,t){return void 0===e.attr("name")?!1:(e.is(":checkbox")&&"false"!==t&&-1===e.attr("name").indexOf("[")?e.attr("checked","checked"):e.is(":checkbox")&&"false"===t&&-1===e.attr("name").indexOf("[")?e.removeAttr("checked"):e.is(":radio")?e.val()===t&&e.attr("checked","checked"):-1===e.attr("name").indexOf("[")?e.val(t):(t=t.split(","),e.val(t)),void 0)},bindSaveDataImmediately:function(e,t){var n=this;if("onpropertychange"in e?e.get(0).onpropertychange=function(){n.saveToBrowserStorage(t,e.val())}:e.get(0).oninput=function(){n.saveToBrowserStorage(t,e.val())},this.isCKEditorExists()){var r;(r=CKEDITOR.instances[e.attr("name")]||CKEDITOR.instances[e.attr("id")])&&r.document.on("keyup",function(){r.updateElement(),n.saveToBrowserStorage(t,e.val())})}},saveToBrowserStorage:function(e,t,n){n=void 0===n?!0:n,this.browserStorage.set(e,t),n&&""!==t&&this.options.onSave.call(this)},bindSaveDataOnChange:function(e){var t=this;e.change(function(){t.saveAllData()})},saveDataByTimeout:function(){var e=this,t=e.targets;setTimeout(function(){function t(){e.saveAllData(),setTimeout(t,1e3*e.options.timeout)}return t}(t),1e3*e.options.timeout)},bindReleaseData:function(){var t=this;t.targets.each(function(){var n=e(this),r=n.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password"),a=n.attr("id")+n.attr("name");e(this).bind("submit reset",function(){t.releaseData(a,r)})})},manuallyReleaseData:function(){var t=this;t.targets.each(function(){var n=e(this),r=n.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password"),a=n.attr("id")+n.attr("name");t.releaseData(a,r)})},releaseData:function(t,n){var r=!1,a=this;n.each(function(){if(-1!==e.inArray(this,a.options.excludeFields))return!0;var n=e(this),i=(a.options.locationBased?a.href:"")+t+n.attr("name")+a.options.customKeySuffix;a.browserStorage.remove(i),r=!0}),r&&a.options.onRelease.call(a)}}}var r={instantiated:[],started:[]};return{getInstance:function(e){return r.instantiated[e]||(r.instantiated[e]=n(),r.instantiated[e].setInstanceIdentifier(e),r.instantiated[e].setInitialOptions()),e?r.instantiated[e]:r.instantiated[e]},free:function(){return r={},null},version:"1.1.103"}}()}(jQuery),/*
    Version 1.5.0
    The MIT License (MIT)

    Copyright (c) 2014 Dirk Groenen

    Permission is hereby granted, free of charge, to any person obtaining a copy of
    this software and associated documentation files (the "Software"), to deal in
    the Software without restriction, including without limitation the rights to
    use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
    the Software, and to permit persons to whom the Software is furnished to do so,
    subject to the following conditions:

    The above copyright notice and this permission notice shall be included in all
    copies or substantial portions of the Software.
*/
function(e){e.fn.viewportChecker=function(t){var n={classToAdd:"visible",offset:100,repeat:!1,callbackFunction:function(){},scrollHorizontal:!1};e.extend(n,t);var r=this,a=n.scrollHorizontal?e(window).width():e(window).height(),i=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html";return this.checkElements=function(){if(n.scrollHorizontal)var t=e(i).scrollLeft(),o=t+a;else var t=e(i).scrollTop(),o=t+a;r.each(function(){var r=e(this);if(!r.hasClass(n.classToAdd)||n.repeat){var a=n.scrollHorizontal?Math.round(r.offset().left)+n.offset:Math.round(r.offset().top)+n.offset,i=a+r.height();o>a&&i>t?(r.addClass(n.classToAdd),n.callbackFunction(r,"add")):r.hasClass(n.classToAdd)&&n.repeat&&(r.removeClass(n.classToAdd),n.callbackFunction(r,"remove"))}})},e(window).bind("load scroll touchmove",this.checkElements),e(window).resize(function(e){a=n.scrollHorizontal?e.currentTarget.innerWidth:e.currentTarget.innerHeight}),this.checkElements(),this}}(jQuery),/*
 * Foundation Responsive Library
 * http://foundation.zurb.com
 * Copyright 2014, ZURB
 * Free to use under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
*/
function(e,t,n,r){"use strict";function a(e){return("string"==typeof e||e instanceof String)&&(e=e.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),e}var i=function(t){var n=t.length;for(e("head");n--;)0===e("head").has("."+t[n]).length&&e("head").append('<meta class="'+t[n]+'" />')};i(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),e(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof n.body&&FastClick.attach(n.body)});var o=function(t,r){if("string"==typeof t){if(r){var a;if(r.jquery){if(a=r[0],!a)return r}else a=r;return e(a.querySelectorAll(t))}return e(n.querySelectorAll(t))}return e(t,r)},s=function(e){var t=[];return e||t.push("data"),this.namespace.length>0&&t.push(this.namespace),t.push(this.name),t.join("-")},u=function(e){for(var t=e.split("-"),n=t.length,r=[];n--;)0!==n?r.push(t[n]):this.namespace.length>0?r.push(this.namespace,t[n]):r.push(t[n]);return r.reverse().join("-")},l=function(t,n){var r=this,a=!o(this).data(this.attr_name(!0));return"string"==typeof t?this[t].call(this,n):(o(this.scope).is("["+this.attr_name()+"]")?(o(this.scope).data(this.attr_name(!0)+"-init",e.extend({},this.settings,n||t,this.data_options(o(this.scope)))),a&&this.events(this.scope)):o("["+this.attr_name()+"]",this.scope).each(function(){var a=!o(this).data(r.attr_name(!0)+"-init");o(this).data(r.attr_name(!0)+"-init",e.extend({},r.settings,n||t,r.data_options(o(this)))),a&&r.events(this)}),void 0)},c=function(e,t){function n(){t(e[0])}function r(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var e=this.attr("src"),t=e.match(/\?/)?"&":"?";t+="random="+(new Date).getTime(),this.attr("src",e+t)}}return e.attr("src")?(e[0].complete||4===e[0].readyState?n():r.call(e),void 0):(n(),void 0)};t.matchMedia=t.matchMedia||function(e){var t,n=e.documentElement,r=n.firstElementChild||n.firstChild,a=e.createElement("body"),i=e.createElement("div");return i.id="mq-test-1",i.style.cssText="position:absolute;top:-100em",a.style.background="none",a.appendChild(i),function(e){return i.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(a,r),t=42===i.offsetWidth,n.removeChild(a),{matches:t,media:e}}}(n),/*
   * jquery.requestAnimationFrame
   * https://github.com/gnarf37/jquery-requestAnimationFrame
   * Requires jQuery 1.8+
   *
   * Copyright (c) 2012 Corey Frang
   * Licensed under the MIT license.
   */
function(){function e(){n&&(i(e),s&&jQuery.fx.tick())}for(var n,r=0,a=["webkit","moz"],i=t.requestAnimationFrame,o=t.cancelAnimationFrame,s="undefined"!=typeof jQuery.fx;r<a.length&&!i;r++)i=t[a[r]+"RequestAnimationFrame"],o=o||t[a[r]+"CancelAnimationFrame"]||t[a[r]+"CancelRequestAnimationFrame"];i?(t.requestAnimationFrame=i,t.cancelAnimationFrame=o,s&&(jQuery.fx.timer=function(t){t()&&jQuery.timers.push(t)&&!n&&(n=!0,e())},jQuery.fx.stop=function(){n=!1})):(t.requestAnimationFrame=function(e){var n=(new Date).getTime(),a=Math.max(0,16-(n-r)),i=t.setTimeout(function(){e(n+a)},a);return r=n+a,i},t.cancelAnimationFrame=function(e){clearTimeout(e)})}(jQuery),t.Foundation={name:"Foundation",version:"5.2.1",media_queries:{small:o(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:o(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:o(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:o(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:o(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:e("<style></style>").appendTo("head")[0].sheet,global:{namespace:""},init:function(e,t,n,r,a){var i=[e,n,r,a],s=[];if(this.rtl=/rtl/i.test(o("html").attr("dir")),this.scope=e||this.scope,this.set_namespace(),t&&"string"==typeof t&&!/reflow/i.test(t))this.libs.hasOwnProperty(t)&&s.push(this.init_lib(t,i));else for(var u in this.libs)s.push(this.init_lib(u,t));return e},init_lib:function(t,n){return this.libs.hasOwnProperty(t)?(this.patch(this.libs[t]),n&&n.hasOwnProperty(t)?("undefined"!=typeof this.libs[t].settings?e.extend(!0,this.libs[t].settings,n[t]):"undefined"!=typeof this.libs[t].defaults&&e.extend(!0,this.libs[t].defaults,n[t]),this.libs[t].init.apply(this.libs[t],[this.scope,n[t]])):(n=n instanceof Array?n:Array(n),this.libs[t].init.apply(this.libs[t],n))):function(){}},patch:function(e){e.scope=this.scope,e.namespace=this.global.namespace,e.rtl=this.rtl,e.data_options=this.utils.data_options,e.attr_name=s,e.add_namespace=u,e.bindings=l,e.S=this.utils.S},inherit:function(e,t){for(var n=t.split(" "),r=n.length;r--;)this.utils.hasOwnProperty(n[r])&&(e[n[r]]=this.utils[n[r]])},set_namespace:function(){var t=this.global.namespace||e(".foundation-data-attribute-namespace").css("font-family");/false/i.test(t)||(this.global.namespace=t)},libs:{},utils:{S:o,throttle:function(e,t){var n=null;return function(){var r=this,a=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,a)},t)}},debounce:function(e,t,n){var r,a;return function(){var i=this,o=arguments,s=function(){r=null,n||(a=e.apply(i,o))},u=n&&!r;return clearTimeout(r),r=setTimeout(s,t),u&&(a=e.apply(i,o)),a}},data_options:function(t){function n(e){return!isNaN(e-0)&&null!==e&&""!==e&&e!==!1&&e!==!0}function r(t){return"string"==typeof t?e.trim(t):t}var a,i,o,s={},u=function(e){var t=Foundation.global.namespace;return t.length>0?e.data(t+"-options"):e.data("options")},l=u(t);if("object"==typeof l)return l;for(o=(l||":").split(";"),a=o.length;a--;)i=o[a].split(":"),/true/i.test(i[1])&&(i[1]=!0),/false/i.test(i[1])&&(i[1]=!1),n(i[1])&&(i[1]=-1===i[1].indexOf(".")?parseInt(i[1],10):parseFloat(i[1],10)),2===i.length&&i[0].length>0&&(s[r(i[0])]=r(i[1]));return s},register_media:function(t,n){Foundation.media_queries[t]===r&&(e("head").append('<meta class="'+n+'">'),Foundation.media_queries[t]=a(e("."+n).css("font-family")))},add_custom_rule:function(e,t){if(t===r)Foundation.stylesheet.insertRule(e,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[t];n!==r&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[t]+"{ "+e+" }")}},image_loaded:function(e,t){var n=this,r=e.length;0===r&&t(e),e.each(function(){c(n.S(this),function(){r-=1,0===r&&t(e)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)}}},e.fn.foundation=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(e)),this})}}(jQuery,this,this.document),function(e,t,n,r){"use strict";function a(e){var t=/fade/i.test(e),n=/pop/i.test(e);return{animate:t||n,pop:n,fade:t}}Foundation.libs.reveal={name:"reveal",version:"5.2.1",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,n,r){e.extend(!0,this.settings,n,r),this.bindings(n,r)},events:function(){var e=this,t=e.S;return t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]",function(n){if(n.preventDefault(),!e.locked){var r=t(this),a=r.data(e.data_attr("reveal-ajax"));if(e.locked=!0,"undefined"==typeof a)e.open.call(e,r);else{var i=a===!0?r.attr("href"):a;e.open.call(e,r,{url:i})}}}),t(n).on("touchend.fndtn.reveal click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!e.locked){var r=t("["+e.attr_name()+"].open").data(e.attr_name(!0)+"-init"),a=t(n.target)[0]===t("."+r.bg_class)[0];if(a){if(!r.close_on_background_click)return;n.stopPropagation()}e.locked=!0,e.close.call(e,a?t("["+e.attr_name()+"].open"):t(this).closest("["+e.attr_name()+"]"))}}),t("["+e.attr_name()+"]",this.scope).length>0?t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):t(this.scope).on("open.fndtn.reveal","["+e.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+e.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.close_video),!0},key_up_on:function(){var e=this;return e.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var n=e.S("["+e.attr_name()+"].open"),r=n.data(e.attr_name(!0)+"-init");r&&27===t.which&&r.close_on_esc&&!e.locked&&e.close.call(e,n)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(t,n){var r=this;if(t)if("undefined"!=typeof t.selector)var a=r.S("#"+t.data(r.data_attr("reveal-id")));else{var a=r.S(this.scope);n=t}else var a=r.S(this.scope);var i=a.data(r.attr_name(!0)+"-init");if(!a.hasClass("open")){var o=r.S("["+r.attr_name()+"].open");if("undefined"==typeof a.data("css-top")&&a.data("css-top",parseInt(a.css("top"),10)).data("offset",this.cache_offset(a)),this.key_up_on(a),a.trigger("open"),o.length<1&&this.toggle_bg(a),"string"==typeof n&&(n={url:n}),"undefined"!=typeof n&&n.url){var s="undefined"!=typeof n.success?n.success:null;e.extend(n,{success:function(t,n,u){e.isFunction(s)&&s(t,n,u),a.html(t),r.S(a).foundation("section","reflow"),o.length>0&&r.hide(o,i.css.close),r.show(a,i.css.open)}}),e.ajax(n)}else o.length>0&&this.hide(o,i.css.close),this.show(a,i.css.open)}},close:function(e){var e=e&&e.length?e:this.S(this.scope),t=this.S("["+this.attr_name()+"].open"),n=e.data(this.attr_name(!0)+"-init");t.length>0&&(this.locked=!0,this.key_up_off(e),e.trigger("close"),this.toggle_bg(e),this.hide(t,n.css.close,n))},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(t){t.data(this.attr_name(!0));0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=e("<div />",{"class":this.settings.bg_class}).appendTo("body").hide()),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(n,r){if(r){var i=n.data(this.attr_name(!0)+"-init");if(0===n.parent("body").length){var o=n.wrap('<div style="display: none;" />').parent(),s=this.settings.rootElement||"body";n.on("closed.fndtn.reveal.wrapped",function(){n.detach().appendTo(o),n.unwrap().unbind("closed.fndtn.reveal.wrapped")}),n.detach().appendTo(s)}var u=a(i.animation);if(u.animate||(this.locked=!1),u.pop){r.top=e(t).scrollTop()-n.data("offset")+"px";var l={top:e(t).scrollTop()+n.data("css-top")+"px",opacity:1};return setTimeout(function(){return n.css(r).animate(l,i.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),i.animation_speed/2)}if(u.fade){r.top=e(t).scrollTop()+n.data("css-top")+"px";var l={opacity:1};return setTimeout(function(){return n.css(r).animate(l,i.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened")}.bind(this)).addClass("open")}.bind(this),i.animation_speed/2)}return n.css(r).show().css({opacity:1}).addClass("open").trigger("opened")}var i=this.settings;return a(i.animation).fade?n.fadeIn(i.animation_speed/2):(this.locked=!1,n.show())},hide:function(n,r){if(r){var i=n.data(this.attr_name(!0)+"-init"),o=a(i.animation);if(o.animate||(this.locked=!1),o.pop){var s={top:-e(t).scrollTop()-n.data("offset")+"px",opacity:0};return setTimeout(function(){return n.animate(s,i.animation_speed,"linear",function(){this.locked=!1,n.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),i.animation_speed/2)}if(o.fade){var s={opacity:0};return setTimeout(function(){return n.animate(s,i.animation_speed,"linear",function(){this.locked=!1,n.css(r).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),i.animation_speed/2)}return n.hide().css(r).removeClass("open").trigger("closed")}var i=this.settings;return a(i.animation).fade?n.fadeOut(i.animation_speed/2):n.hide()},close_video:function(t){var n=e(".flex-video",t.target),r=e("iframe",n);r.length>0&&(r.attr("data-src",r[0].src),r.attr("src","about:blank"),n.hide())},open_video:function(t){var n=e(".flex-video",t.target),a=n.find("iframe");if(a.length>0){var i=a.attr("data-src");if("string"==typeof i)a[0].src=a.attr("data-src");else{var o=a[0].src;a[0].src=r,a[0].src=o}n.show()}},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10);return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,this,this.document),function(e,t){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.2.1",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,tip_template:function(e,t){return'<span data-selector="'+e+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'">'+t+'<span class="nub"></span></span>'}},cache:{},init:function(e,t,n){Foundation.inherit(this,"random_str"),this.bindings(t,n)},events:function(t){var n=this,r=n.S;n.create(this.S(t)),e(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]:not(a)",function(t){var a=r(this),i=e.extend({},n.settings,n.data_options(a)),o=!1;if(/mouse/i.test(t.type)&&n.ie_touch(t))return!1;if(a.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&t.preventDefault(),n.hide(a);else{if(i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type))return;!i.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(t.type)&&(t.preventDefault(),r(i.tooltip_class+".open").hide(),o=!0),/enter|over/i.test(t.type)?this.timer=setTimeout(function(){n.showTip(a)}.bind(this),n.settings.hover_delay):"mouseout"===t.type||"mouseleave"===t.type?(clearTimeout(this.timer),n.hide(a)):n.showTip(a)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(t){return/mouse/i.test(t.type)&&n.ie_touch(t)?!1:(("touch"!=e(this).data("tooltip-open-event-type")||"mouseleave"!=t.type)&&("mouse"==e(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(t.type)?n.convert_to_touch(e(this)):n.hide(e(this))),void 0)}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){n.hide(r(this))})},ie_touch:function(){return!1},showTip:function(e){this.getTip(e);return this.show(e)},getTip:function(t){var n=this.selector(t),r=e.extend({},this.settings,this.data_options(t)),a=null;return n&&(a=this.S('span[data-selector="'+n+'"]'+r.tooltip_class)),"object"==typeof a?a:!1},selector:function(e){var t=e.attr("id"),n=e.attr(this.attr_name())||e.attr("data-selector");return(t&&t.length<1||!t)&&"string"!=typeof n&&(n=this.random_str(6),e.attr("data-selector",n)),t&&t.length>0?t:n},create:function(n){var r=this,a=e.extend({},this.settings,this.data_options(n)),i=this.settings.tip_template;"string"==typeof a.tip_template&&t.hasOwnProperty(a.tip_template)&&(i=t[a.tip_template]);var o=e(i(this.selector(n),e("<div></div>").html(n.attr("title")).html())),s=this.inheritable_classes(n);o.addClass(s).appendTo(a.append_to),Modernizr.touch&&(o.append('<span class="tap-to-close">'+a.touch_close_text+"</span>"),o.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){r.hide(n)})),n.removeAttr("title").attr("title","")},reposition:function(t,n,r){var a,i,o,s,u;if(n.css("visibility","hidden").show(),a=t.data("width"),i=n.children(".nub"),o=i.outerHeight(),s=i.outerHeight(),this.small()?n.css({width:"100%"}):n.css({width:a?a:"auto"}),u=function(e,t,n,r,a){return e.css({top:t?t:"auto",bottom:r?r:"auto",left:a?a:"auto",right:n?n:"auto"}).end()},u(n,t.offset().top+t.outerHeight()+10,"auto","auto",t.offset().left),this.small())u(n,t.offset().top+t.outerHeight()+10,"auto","auto",12.5,e(this.scope).width()),n.addClass("tip-override"),u(i,-o,"auto","auto",t.offset().left);else{var l=t.offset().left;Foundation.rtl&&(i.addClass("rtl"),l=t.offset().left+t.outerWidth()-n.outerWidth()),u(n,t.offset().top+t.outerHeight()+10,"auto","auto",l),n.removeClass("tip-override"),r&&r.indexOf("tip-top")>-1?(Foundation.rtl&&i.addClass("rtl"),u(n,t.offset().top-(10+n.outerHeight()),"auto","auto",l).removeClass("tip-override")):r&&r.indexOf("tip-left")>-1?(u(n,t.offset().top+t.outerHeight()/2-n.outerHeight()/2,"auto","auto",t.offset().left-n.outerWidth()-o).removeClass("tip-override"),i.removeClass("rtl")):r&&r.indexOf("tip-right")>-1&&(u(n,t.offset().top+t.outerHeight()/2-n.outerHeight()/2,"auto","auto",t.offset().left+t.outerWidth()+o).removeClass("tip-override"),i.removeClass("rtl"))}n.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches},inheritable_classes:function(t){var n=e.extend({},this.settings,this.data_options(t)),r=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(n.additional_inheritable_classes),a=t.attr("class"),i=a?e.map(a.split(" "),function(t){return-1!==e.inArray(t,r)?t:void 0}).join(" "):"";return e.trim(i)},convert_to_touch:function(t){var n=this,r=n.getTip(t),a=e.extend({},n.settings,n.data_options(t));0===r.find(".tap-to-close").length&&(r.append('<span class="tap-to-close">'+a.touch_close_text+"</span>"),r.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){n.hide(t)})),t.data("tooltip-open-event-type","touch")},show:function(e){var t=this.getTip(e);"touch"==e.data("tooltip-open-event-type")&&this.convert_to_touch(e),this.reposition(e,t,e.attr("class")),e.addClass("open"),t.fadeIn(150)},hide:function(e){var t=this.getTip(e);t.fadeOut(150,function(){t.find(".tap-to-close").remove(),t.off("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),e.removeClass("open")})},off:function(){var t=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(n){e("["+t.attr_name()+"]").get(n).attr("title",e(this).text())}).remove()},reflow:function(){}}}(jQuery,this,this.document),function(){var e=this,t=e._,n={},r=Array.prototype,a=Object.prototype,i=Function.prototype,o=r.push,s=r.slice,u=r.concat,l=a.toString,c=a.hasOwnProperty,d=r.forEach,f=r.map,h=r.reduce,p=r.reduceRight,m=r.filter,g=r.every,v=r.some,y=r.indexOf,_=r.lastIndexOf,b=Array.isArray,w=Object.keys,k=i.bind,$=function(e){return e instanceof $?e:this instanceof $?(this._wrapped=e,void 0):new $(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=$),exports._=$):e._=$,$.VERSION="1.6.0";var x=$.each=$.forEach=function(e,t,r){if(null==e)return e;if(d&&e.forEach===d)e.forEach(t,r);else if(e.length===+e.length){for(var a=0,i=e.length;i>a;a++)if(t.call(r,e[a],a,e)===n)return}else for(var o=$.keys(e),a=0,i=o.length;i>a;a++)if(t.call(r,e[o[a]],o[a],e)===n)return;return e};$.map=$.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(x(e,function(e,a,i){r.push(t.call(n,e,a,i))}),r)};var S="Reduce of empty array with no initial value";$.reduce=$.foldl=$.inject=function(e,t,n,r){var a=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return r&&(t=$.bind(t,r)),a?e.reduce(t,n):e.reduce(t);if(x(e,function(e,i,o){a?n=t.call(r,n,e,i,o):(n=e,a=!0)}),!a)throw new TypeError(S);return n},$.reduceRight=$.foldr=function(e,t,n,r){var a=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return r&&(t=$.bind(t,r)),a?e.reduceRight(t,n):e.reduceRight(t);var i=e.length;if(i!==+i){var o=$.keys(e);i=o.length}if(x(e,function(s,u,l){u=o?o[--i]:--i,a?n=t.call(r,n,e[u],u,l):(n=e[u],a=!0)}),!a)throw new TypeError(S);return n},$.find=$.detect=function(e,t,n){var r;return C(e,function(e,a,i){return t.call(n,e,a,i)?(r=e,!0):void 0}),r},$.filter=$.select=function(e,t,n){var r=[];return null==e?r:m&&e.filter===m?e.filter(t,n):(x(e,function(e,a,i){t.call(n,e,a,i)&&r.push(e)}),r)},$.reject=function(e,t,n){return $.filter(e,function(e,r,a){return!t.call(n,e,r,a)},n)},$.every=$.all=function(e,t,r){t||(t=$.identity);var a=!0;return null==e?a:g&&e.every===g?e.every(t,r):(x(e,function(e,i,o){return(a=a&&t.call(r,e,i,o))?void 0:n}),!!a)};var C=$.some=$.any=function(e,t,r){t||(t=$.identity);var a=!1;return null==e?a:v&&e.some===v?e.some(t,r):(x(e,function(e,i,o){return a||(a=t.call(r,e,i,o))?n:void 0}),!!a)};$.contains=$.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):C(e,function(e){return e===t})},$.invoke=function(e,t){var n=s.call(arguments,2),r=$.isFunction(t);return $.map(e,function(e){return(r?t:e[t]).apply(e,n)})},$.pluck=function(e,t){return $.map(e,$.property(t))},$.where=function(e,t){return $.filter(e,$.matches(t))},$.findWhere=function(e,t){return $.find(e,$.matches(t))},$.max=function(e,t,n){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-1/0,a=-1/0;return x(e,function(e,i,o){var s=t?t.call(n,e,i,o):e;s>a&&(r=e,a=s)}),r},$.min=function(e,t,n){if(!t&&$.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=1/0,a=1/0;return x(e,function(e,i,o){var s=t?t.call(n,e,i,o):e;a>s&&(r=e,a=s)}),r},$.shuffle=function(e){var t,n=0,r=[];return x(e,function(e){t=$.random(n++),r[n-1]=r[t],r[t]=e}),r},$.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=$.values(e)),e[$.random(e.length-1)]):$.shuffle(e).slice(0,Math.max(0,t))};var D=function(e){return null==e?$.identity:$.isFunction(e)?e:$.property(e)};$.sortBy=function(e,t,n){return t=D(t),$.pluck($.map(e,function(e,r,a){return{value:e,index:r,criteria:t.call(n,e,r,a)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var a={};return n=D(n),x(t,function(i,o){var s=n.call(r,i,o,t);e(a,s,i)}),a}};$.groupBy=T(function(e,t,n){$.has(e,t)?e[t].push(n):e[t]=[n]}),$.indexBy=T(function(e,t,n){e[t]=n}),$.countBy=T(function(e,t){$.has(e,t)?e[t]++:e[t]=1}),$.sortedIndex=function(e,t,n,r){n=D(n);for(var a=n.call(r,t),i=0,o=e.length;o>i;){var s=i+o>>>1;n.call(r,e[s])<a?i=s+1:o=s}return i},$.toArray=function(e){return e?$.isArray(e)?s.call(e):e.length===+e.length?$.map(e,$.identity):$.values(e):[]},$.size=function(e){return null==e?0:e.length===+e.length?e.length:$.keys(e).length},$.first=$.head=$.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:s.call(e,0,t)},$.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},$.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},$.rest=$.tail=$.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},$.compact=function(e){return $.filter(e,$.identity)};var j=function(e,t,n){return t&&$.every(e,$.isArray)?u.apply(n,e):(x(e,function(e){$.isArray(e)||$.isArguments(e)?t?o.apply(n,e):j(e,t,n):n.push(e)}),n)};$.flatten=function(e,t){return j(e,t,[])},$.without=function(e){return $.difference(e,s.call(arguments,1))},$.partition=function(e,t){var n=[],r=[];return x(e,function(e){(t(e)?n:r).push(e)}),[n,r]},$.uniq=$.unique=function(e,t,n,r){$.isFunction(t)&&(r=n,n=t,t=!1);var a=n?$.map(e,n,r):e,i=[],o=[];return x(a,function(n,r){(t?r&&o[o.length-1]===n:$.contains(o,n))||(o.push(n),i.push(e[r]))}),i},$.union=function(){return $.uniq($.flatten(arguments,!0))},$.intersection=function(e){var t=s.call(arguments,1);return $.filter($.uniq(e),function(e){return $.every(t,function(t){return $.contains(t,e)})})},$.difference=function(e){var t=u.apply(r,s.call(arguments,1));return $.filter(e,function(e){return!$.contains(t,e)})},$.zip=function(){for(var e=$.max($.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=$.pluck(arguments,""+n);return t},$.object=function(e,t){if(null==e)return{};for(var n={},r=0,a=e.length;a>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},$.indexOf=function(e,t,n){if(null==e)return-1;var r=0,a=e.length;if(n){if("number"!=typeof n)return r=$.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,a+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;a>r;r++)if(e[r]===t)return r;return-1},$.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(_&&e.lastIndexOf===_)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var a=r?n:e.length;a--;)if(e[a]===t)return a;return-1},$.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),a=0,i=new Array(r);r>a;)i[a++]=e,e+=n;return i};var M=function(){};$.bind=function(e,t){var n,r;if(k&&e.bind===k)return k.apply(e,s.call(arguments,1));if(!$.isFunction(e))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(s.call(arguments)));M.prototype=e.prototype;var a=new M;M.prototype=null;var i=e.apply(a,n.concat(s.call(arguments)));return Object(i)===i?i:a}},$.partial=function(e){var t=s.call(arguments,1);return function(){for(var n=0,r=t.slice(),a=0,i=r.length;i>a;a++)r[a]===$&&(r[a]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},$.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return x(t,function(t){e[t]=$.bind(e[t],e)}),e},$.memoize=function(e,t){var n={};return t||(t=$.identity),function(){var r=t.apply(this,arguments);return $.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},$.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},$.defer=function(e){return $.delay.apply($,[e,1].concat(s.call(arguments,1)))},$.throttle=function(e,t,n){var r,a,i,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:$.now(),o=null,i=e.apply(r,a),r=a=null};return function(){var l=$.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,a=arguments,0>=c?(clearTimeout(o),o=null,s=l,i=e.apply(r,a),r=a=null):o||n.trailing===!1||(o=setTimeout(u,c)),i}},$.debounce=function(e,t,n){var r,a,i,o,s,u=function(){var l=$.now()-o;t>l?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(i,a),i=a=null))};return function(){i=this,a=arguments,o=$.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(i,a),i=a=null),s}},$.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},$.wrap=function(e,t){return $.partial(t,e)},$.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},$.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},$.keys=function(e){if(!$.isObject(e))return[];if(w)return w(e);var t=[];for(var n in e)$.has(e,n)&&t.push(n);return t},$.values=function(e){for(var t=$.keys(e),n=t.length,r=new Array(n),a=0;n>a;a++)r[a]=e[t[a]];return r},$.pairs=function(e){for(var t=$.keys(e),n=t.length,r=new Array(n),a=0;n>a;a++)r[a]=[t[a],e[t[a]]];return r},$.invert=function(e){for(var t={},n=$.keys(e),r=0,a=n.length;a>r;r++)t[e[n[r]]]=n[r];return t},$.functions=$.methods=function(e){var t=[];for(var n in e)$.isFunction(e[n])&&t.push(n);return t.sort()},$.extend=function(e){return x(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},$.pick=function(e){var t={},n=u.apply(r,s.call(arguments,1));return x(n,function(n){n in e&&(t[n]=e[n])}),t},$.omit=function(e){var t={},n=u.apply(r,s.call(arguments,1));for(var a in e)$.contains(n,a)||(t[a]=e[a]);return t},$.defaults=function(e){return x(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},$.clone=function(e){return $.isObject(e)?$.isArray(e)?e.slice():$.extend({},e):e},$.tap=function(e,t){return t(e),e};var F=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof $&&(e=e._wrapped),t instanceof $&&(t=t._wrapped);var a=l.call(e);if(a!=l.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var i=n.length;i--;)if(n[i]==e)return r[i]==t;var o=e.constructor,s=t.constructor;if(o!==s&&!($.isFunction(o)&&o instanceof o&&$.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var u=0,c=!0;if("[object Array]"==a){if(u=e.length,c=u==t.length)for(;u--&&(c=F(e[u],t[u],n,r)););}else{for(var d in e)if($.has(e,d)&&(u++,!(c=$.has(t,d)&&F(e[d],t[d],n,r))))break;if(c){for(d in t)if($.has(t,d)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};$.isEqual=function(e,t){return F(e,t,[],[])},$.isEmpty=function(e){if(null==e)return!0;if($.isArray(e)||$.isString(e))return 0===e.length;for(var t in e)if($.has(e,t))return!1;return!0},$.isElement=function(e){return!(!e||1!==e.nodeType)},$.isArray=b||function(e){return"[object Array]"==l.call(e)},$.isObject=function(e){return e===Object(e)},x(["Arguments","Function","String","Number","Date","RegExp"],function(e){$["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),$.isArguments(arguments)||($.isArguments=function(e){return!(!e||!$.has(e,"callee"))}),"function"!=typeof/./&&($.isFunction=function(e){return"function"==typeof e}),$.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},$.isNaN=function(e){return $.isNumber(e)&&e!=+e},$.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},$.isNull=function(e){return null===e},$.isUndefined=function(e){return void 0===e},$.has=function(e,t){return c.call(e,t)},$.noConflict=function(){return e._=t,this},$.identity=function(e){return e},$.constant=function(e){return function(){return e}},$.property=function(e){return function(t){return t[e]}},$.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},$.times=function(e,t,n){for(var r=Array(Math.max(0,e)),a=0;e>a;a++)r[a]=t.call(n,a);return r},$.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},$.now=Date.now||function(){return(new Date).getTime()};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=$.invert(P.escape);var O={escape:new RegExp("["+$.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+$.keys(P.unescape).join("|")+")","g")};$.each(["escape","unescape"],function(e){$[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return P[e][t]})}}),$.result=function(e,t){if(null==e)return void 0;var n=e[t];return $.isFunction(n)?n.call(e):n},$.mixin=function(e){x($.functions(e),function(t){var n=$[t]=e[t];$.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),q.call(this,n.apply($,e))}})};var H=0;$.uniqueId=function(e){var t=++H+"";return e?e+t:t},$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Y=/(.)^/,E={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;$.template=function(e,t,n){var r;n=$.defaults({},n,$.templateSettings);var a=new RegExp([(n.escape||Y).source,(n.interpolate||Y).source,(n.evaluate||Y).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(a,function(t,n,r,a,s){return o+=e.slice(i,s).replace(I,function(e){return"\\"+E[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),a&&(o+="';\n"+a+"\n__p+='"),i=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return r(t,$);var u=function(e){return r.call(this,e,$)};return u.source="function("+(n.variable||"obj")+"){\n"+o+"}",u},$.chain=function(e){return $(e).chain()};var q=function(e){return this._chain?$(e).chain():e};$.mixin($),x(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];$.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],q.call(this,n)}}),x(["concat","join","slice"],function(e){var t=r[e];$.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}}),$.extend($.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return $})}.call(this),/*
 * validate.js 1.3.1
 * Copyright (c) 2011 - 2014 Rick Harrison, http://rickharrison.me
 * validate.js is open sourced under the MIT license.
 * Portions of validate.js are inspired by CodeIgniter.
 * http://rickharrison.github.com/validate.js
 */
function(e,t,n){var r={messages:{required:"The %s field is required.",matches:"The %s field does not match the %s field.","default":"The %s field is still set to default, please change.",valid_email:"The %s field must contain a valid email address.",valid_emails:"The %s field must contain all valid email addresses.",min_length:"The %s field must be at least %s characters in length.",max_length:"The %s field must not exceed %s characters in length.",exact_length:"The %s field must be exactly %s characters in length.",greater_than:"The %s field must contain a number greater than %s.",less_than:"The %s field must contain a number less than %s.",alpha:"The %s field must only contain alphabetical characters.",alpha_numeric:"The %s field must only contain alpha-numeric characters.",alpha_dash:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",numeric:"The %s field must contain only numbers.",integer:"The %s field must contain an integer.",decimal:"The %s field must contain a decimal number.",is_natural:"The %s field must contain only positive numbers.",is_natural_no_zero:"The %s field must contain a number greater than zero.",valid_ip:"The %s field must contain a valid IP.",valid_base64:"The %s field must contain a base64 string.",valid_credit_card:"The %s field must contain a valid credit card number.",is_file_type:"The %s field must contain only %s files.",valid_url:"The %s field must contain a valid URL.",valid_postal_code:"The %s field must contain a valid ZIP/postal code."},callback:function(){}},a=/^(.+?)\[(.+)\]$/,i=/^[0-9]+$/,o=/^[\d ]+$/,s=/^\-?[0-9]+$/,u=/^\-?[0-9]*\.?[0-9]+$/,l=/^[a-zA-Z0-9.!#$%&amp;'*+\-\/=?\^_`{|}~\-]+@[a-zA-Z0-9\-]+\.(?:[a-zA-Z0-9\-]+\.*)*$/,c=/^[a-z]+$/i,d=/^[a-z0-9]+$/i,f=/^[a-z0-9_\-]+$/i,h=/^[0-9]+$/i,p=/^[1-9][0-9]*$/i,m=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,g=/[^a-zA-Z0-9\/\+=]/i,v=/^[\d\-\s]+$/,y=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/;usZipRegex=/(^\d{5}$)/,canadianPostalRegex=/(^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[A-Zaz]{1} {1}\d{1}[A-Za-z]{1}\d{1}$)/i,ukPostcodeRegex=/^(((([A-PR-UWYZ][0-9][0-9A-HJKS-UW]?)|([A-PR-UWYZ][A-HK-Y][0-9][0-9ABEHMNPRV-Y]?))\s{0,2}[0-9]([ABD-HJLNP-UW-Z]{2}))|(GIR\s{0,2}0AA))$/i;var _=function(e,t,a){this.callback=a||r.callback,this.errors=[],this.fields={},this.form=this._formByNameOrNode(e)||{},this.messages={},this.handlers={},this.conditionals={};for(var i=0,o=t.length;o>i;i++){var s=t[i];if((s.name||s.names)&&s.rules)if(s.names)for(var u=0,l=s.names.length;l>u;u++)this._addField(s,s.names[u]);else this._addField(s,s.name)}var c=this.form.onsubmit;this.form.onsubmit=function(e){return function(t){try{return e._validateForm(t)&&(c===n||c())}catch(r){}}}(this)},b=function(e,t){var n;{if(!(e.length>0)||"radio"!==e[0].type&&"checkbox"!==e[0].type)return e[t];for(n=0,elementLength=e.length;elementLength>n;n++)if(e[n].checked)return e[n][t]}};_.prototype.setMessage=function(e,t){return this.messages[e]=t,this},_.prototype.registerCallback=function(e,t){return e&&"string"==typeof e&&t&&"function"==typeof t&&(this.handlers[e]=t),this},_.prototype.registerConditional=function(e,t){return e&&"string"==typeof e&&t&&"function"==typeof t&&(this.conditionals[e]=t),this},_.prototype._formByNameOrNode=function(e){return"object"==typeof e?e:t.forms[e]},_.prototype._addField=function(e,t){this.fields[t]={name:t,display:e.display||t,rules:e.rules,depends:e.depends,error_message:e.error_message,id:null,type:null,value:null,checked:null}},_.prototype._validateForm=function(t){this.errors=[];for(var r in this.fields)if(this.fields.hasOwnProperty(r)){var a=this.fields[r]||{},i=this.form[a.name];i&&i!==n&&(a.id=b(i,"id"),a.type=i.length>0?i[0].type:i.type,a.value=b(i,"value"),a.checked=b(i,"checked"),a.depends&&"function"==typeof a.depends?a.depends.call(this,a)&&this._validateField(a):a.depends&&"string"==typeof a.depends?this.conditionals[a.depends].call(this,a)&&this._validateField(a):this._validateField(a))}if("function"==typeof this.callback){var o=e.jQuery?e.jQuery.Event(t):t;this.callback(this.errors,o)}return this.errors.length>0&&(t&&t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)),!1},_.prototype._validateField=function(e){for(var t=e.rules.split("|"),i=e.rules.indexOf("required"),o=!e.value||""===e.value||e.value===n,s=0,u=t.length;u>s;s++){var l=t[s],c=null,d=!1,f=a.exec(l);if((-1!==i||-1!==l.indexOf("!callback_")||!o)&&(f&&(l=f[1],c=f[2]),"!"===l.charAt(0)&&(l=l.substring(1,l.length)),"function"==typeof this._hooks[l]?this._hooks[l].apply(this,[e,c])||(d=!0):"callback_"===l.substring(0,9)&&(l=l.substring(9,l.length),"function"==typeof this.handlers[l]&&this.handlers[l].apply(this,[e.value,c])===!1&&(d=!0)),d)){var h=this.messages[e.name+"."+l]||this.messages[l]||r.messages[l],p="An error has occurred with the "+e.display+" field.";h&&(p=h.replace("%s",e.display),c&&(p=p.replace("%s",this.fields[c]?this.fields[c].display:c))),this.errors.push({id:e.id,name:e.name,message:e.error_message||p,rule:l});break}}},_.prototype._hooks={required:function(e){var t=e.value;return"checkbox"===e.type||"radio"===e.type?e.checked===!0:null!==t&&""!==t},"default":function(e,t){return e.value!==t},matches:function(e,t){var n=this.form[t];return n?e.value===n.value:!1},valid_email:function(e){return l.test(e.value)},valid_postal_code:function(e){return usZipRegex.test(e.value)||canadianPostalRegex.test(e.value)||ukPostcodeRegex.test(e.value)},valid_emails:function(e){for(var t=e.value.split(","),n=0,r=t.length;r>n;n++)if(!l.test(t[n]))return!1;return!0},min_length:function(e,t){return i.test(t)?e.value.length>=parseInt(t,10):!1},max_length:function(e,t){return i.test(t)?e.value.length<=parseInt(t,10):!1},exact_length:function(e,t){return i.test(t)?e.value.length===parseInt(t,10):!1},greater_than:function(e,t){return u.test(e.value)?parseFloat(e.value)>parseFloat(t):!1},less_than:function(e,t){return u.test(e.value)?parseFloat(e.value)<parseFloat(t):!1},alpha:function(e){return c.test(e.value)},alpha_numeric:function(e){return d.test(e.value)},alpha_dash:function(e){return f.test(e.value)},numeric:function(e){return i.test(e.value)},numeric_and_space:function(e){return o.test(e.value)},integer:function(e){return s.test(e.value)},decimal:function(e){return u.test(e.value)},is_natural:function(e){return h.test(e.value)},is_natural_no_zero:function(e){return p.test(e.value)},valid_ip:function(e){return m.test(e.value)},valid_base64:function(e){return g.test(e.value)},valid_url:function(e){return y.test(e.value)},valid_credit_card:function(e){if(!v.test(e.value))return!1;for(var t=0,n=0,r=!1,a=e.value.replace(/\D/g,""),i=a.length-1;i>=0;i--){var o=a.charAt(i);n=parseInt(o,10),r&&(n*=2)>9&&(n-=9),t+=n,r=!r}return t%10===0},is_file_type:function(e,t){if("file"!==e.type)return!0;var n=e.value.substr(e.value.lastIndexOf(".")+1),r=t.split(","),a=!1,i=0,o=r.length;for(i;o>i;i++)n==r[i]&&(a=!0);return a}},e.FormValidator=_}(window,document),function(){jQuery(function(){var e,t,n,r,a;return null==window.Handy&&(window.Handy={}),n=function(e,t){return"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.track(e,t),null!=t.charge?"undefined"!=typeof mixpanel&&null!==mixpanel?mixpanel.people.track_charge(t.charge):void 0:void 0},window.Handy.trackEvent=n,r=function(e){return n(e.data("event-name"),e.data("event-properties"))},e={uniquePrefix:"handybookUniqueIdForElement_",counterIndex:0,addIdToElement:function(t){var n;return t.id?void 0:(n=e.uniquePrefix+ ++e.counterIndex,t.id=n)}},t=function(e){var t;return t=new Date,t.setDate(t.getDate()-1),document.cookie=escape(e)+"=;expires="+t.toUTCString()},window.Handy.reset_analytics===!0&&("undefined"!=typeof mixpanel&&null!==mixpanel&&"function"==typeof(a=mixpanel.cookie).clear&&a.clear(),t("mp_"+mixpanel.get_config("token")+"_mixpanel")),window.Handy.new_user===!0&&window.Handy.analytics_id&&"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.alias(window.Handy.analytics_id),window.Handy.analytics_id&&"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.identify(window.Handy.analytics_id),$(".analytics-event-pre").each(function(){return r($(this))}),"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.register(window.Handy.analytics_properties),window.Handy.analytics_id&&"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.people.set(window.Handy.analytics_properties),"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.track("page viewed",{"page name":document.title,url:window.location.pathname}),$(".analytics-event-post").each(function(){return r($(this))}),$("a.analytics-event, button.analytics-event").each(function(){return e.addIdToElement(this),$(this).click(function(){return"undefined"!=typeof mixpanel&&null!==mixpanel?mixpanel.track($(this).data("event-name"),$(this).data("event-properties")):void 0}),!0}),$("form.analytics-event").each(function(){var t;return e.addIdToElement(this),t=$(this),"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.track_forms("#"+this.id,t.data("event-name"),t.data("event-properties")),!0}),$("#user_logged_in_on_payment_page").length>0&&(window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","user_logged_in_on_payment_page"])),$("#conversion_successful").each(function(){var e,t;return t=$(this).data("event-properties"),e=100*t.charge,window.optimizely=window.optimizely||[],window.optimizely.push(["trackEvent","successful_charge",{revenue:e}]),t.converted_to_repeat?window.optimizely.push(["trackEvent","converted_to_repeat"]):void 0})})}.call(this),$(document).ready(function(){$(".js-coupon-banner-countdown").length&&(window.couponBanner={},function(){var e=$(".js-coupon-banner-countdown").eq(0),t=e.data("seconds-difference");couponBanner.secondPassed=function(){var n;n=3600>t?moment.unix(t-25200).format("m:ss"):moment.unix(t-25200).format("h:mm:ss"),e.text(n),0>=t?(clearInterval(couponBanner.countdownTimer),window.location="/",e.text("00:00")):t--},couponBanner.countdownTimer=setInterval("couponBanner.secondPassed()",1e3)}())}),function(){jQuery(function(){var e,t,n,r,a;return window.whenPageValidator=new FormValidator("when_form",[{name:"booking_builder[zipcode]",display:"required|min_length[5]",rules:"required|valid_postal_code",depends:function(){return $("#booking_builder_zipcode").length?!0:!1}},{name:"booking_builder[email]",rules:"required|valid_email",depends:function(){return $("#booking_builder_email").length?!0:!1}},{name:"pseudo_day",rules:"required"}],function(e,t){var n,r,a;return t.preventDefault(),window.formErrorHandler.clearErrors(),e.length?window.formErrorHandler.displayErrors(e):($(".zipcode-field").length&&formatter.postal(),spinnerControl.display(),a=$("#booking_builder_day").val()+" "+$("#booking_builder_booking_start_time").val(),r=moment(a),n=Math.ceil(r.diff(moment(),"minutes")/60),window.Handy.trackEvent("when page submitted",{approx_hours_away:n}),$("#when_form")[0].submit())}),window.hour_calculator={bed_bath_hrs:$("#rooms_array").data("hours"),get_booking_hrs:function(){var e,t,n,r;return r=$("#default-hours").data("defaultHours"),e=r,t=0,n=$("input.stepper").first().attr("id"),"bedrooms"===n||"bathrooms"===n?hour_calculator.estimate_bed_bath():($("input.stepper").each(function(){return t+=$(this).val()*$(this).data("hours")}),t=e>=t?0:Math.floor(t-e),r+t)},estimate_bed_bath:function(){var e,t;return t=parseInt($("#bedrooms").val()),e=parseInt($("#bathrooms").val()),hour_calculator.bed_bath_hrs[t][e]},controlEstimateWarning:function(){var e,t;return t=parseFloat($("#booking_builder_hrs option:selected").val()),e=parseFloat($(".js-estimated-job-hours").text()),e>t?$(".time-warn").removeClass("hidden"):$(".time-warn").addClass("hidden"),$(".js-job-hours").text(t)},outputBookingHours:function(){var e;return e=hour_calculator.get_booking_hrs(),$(".js-estimated-job-hours").text(e),e>10&&(e=10),$("#booking_builder_hrs").val(e.toFixed(1)),$("#booking_builder_hrs").trigger("change")}},$(".when-section").on("click",".stepper-button-down, .stepper-button-up",function(){var e,t,n,r;return r=$(this).siblings("span").find("input"),e=parseInt(r.val()),n=$(this).data("direction"),"up"===n?(t=e+1,t>10||r.val(t)):(t=e-1,0>t||r.val(t)),$("body").trigger("refreshHours")}),$("body").on("refreshHours",hour_calculator.outputBookingHours),$("#booking_builder_hrs").on("change",hour_calculator.controlEstimateWarning),$(".pikaday").length&&(a=$("#pseudo_day")[0].value,e=$("#pseudo_day").data("format"),t=new Pikaday({field:$("#pseudo_day")[0],format:e,minDate:moment().toDate(),onSelect:function(){var t,n,r;return e=$("#pseudo_day").data("format"),n=this.getMoment(),r=n.format(e),t=n.format("YYYY-MM-DD"),$("#pseudo_day").val(r),$("#booking_builder_day").val(t)}})),$(".when-checkbox").click(function(){return $(this).toggleClass("checked"),hour_calculator.set_description_when_not_hours(),hour_calculator.set_booking_hrs("")}),n=function(){var e,t,n,r,a;for(e=!1,n=$(this).data("show-additional").toString().split(","),r=0,a=n.length;a>r;r++)t=n[r],$(this).val()===t&&(e=!0);return e?($("#q4_wrapper").removeClass("hidden"),$("#booking_builder_q4").prop("disabled",!1)):($("#q4_wrapper").addClass("hidden"),$("#booking_builder_q4").prop("disabled",!0))},$("[data-show-additional]").each(n),$("[data-show-additional]").change(n),r=function(){var e,t,n,r,a,i;for(e=!1,r=$(this).data("warn-on-option").toString().split(","),a=0,i=r.length;i>a;a++)t=r[a],$(this).val()===t&&(e=!0);return n=$(this).parents(".form-line").find(".custom_warn"),e?n.removeClass("hidden"):n.addClass("hidden")},$("[data-warn-on-option]").each(r),$("[data-warn-on-option]").change(r),$("#booking_builder_booking_start_time").change(function(){var e;return e=$(this).children("option:selected").text(),$(".js-job-start-time").text(e)}),$(".attrVal").length>0&&hour_calculator.set_description_when_not_hours(),$("body").on("blur",".zipcode-field",function(){return formatter.postal()}),window.formatter={postal:function(e){var t,n;return e="undefined"==typeof e?$(".zipcode-field"):e,n=e.val().toUpperCase(),8===n.length&&" "===n["3"]?(t=n.length,n=n.substr(0,3)+n.charAt(4)+" "+n.substr(5)):n.length>5&&" "!==n["2"]&&" "!==n["3"]&&" "!==n["4"]&&(t=n.length,n=n.substr(0,t-3)+" "+n.substr(t-3)),e.val(n),n}}})}.call(this),function(){jQuery(function(e){var t,n;return t=0,n=function(){var t;return t={new_start:e(this).data("dateStart")},e.ajax({type:"POST",url:e(this).data("url"),data:t,success:function(e){return location.href=e.url}})},e("body").on("click",".js-promo-calendar .resubmit-price",n),window.Surge={getSurgeScroll:function(t,n,r){return e.get(t,{date:n,direction:r}).done(function(t){var n,a,i,o;return o=e(".dynamic-calendar-wrapper").scrollLeft(),i=Surge.newDayContainerWidth(),"next"===r?(e("#dynamic-days-container").append(t).css({width:i}),Surge.setDayColumnWidth()):"previous"===r&&(e("#dynamic-days-container").prepend(t).css({width:i}),Surge.setDayColumnWidth(),n=!Surge.dayColumnForTodayNotRetrieved(),a=o+3*Surge.widthOfDayColumn(),n&&(a-=125),e(".dynamic-calendar-wrapper").scrollLeft(a),n&&Surge.adjustCssLeftForScroll()),e(".dynamic-calendar-wrapper").data("canRequest",1)})},getSurgeButton:function(t,n,r){var a,i,o,s;if(a=e("#dynamic-days-container"),s=Surge.widthOfThreeDayColumns(),i=Surge.currentLeft(),"next"===n&&Surge.shouldGoForward()){if(e(".js-previous-days").removeClass("disabled"),a.animate({left:i-s},500),Surge.showOrHideButtonSpinners(n),Surge.shouldGetNextSurge())return Surge.retrieveSurge(a,t,r,n)}else if("previous"===n&&Surge.shouldGoBackward()&&(o=i+s,a.animate({left:o},500),Surge.showOrHideButtonSpinners(n),setTimeout(function(){return Surge.shouldDisablePreviousArrow()?e(".js-previous-days").addClass("disabled"):void 0},100),Surge.shouldGetPreviousSurge()))return Surge.retrieveSurge(a,t,r,n)},retrieveSurge:function(t,n,r,a){return e(".dynamic-calendar-wrapper").data("canRequest",0),e.get(n,{date:r,direction:a}).done(function(r){return"next"===a?e("#dynamic-days-container").css({width:Surge.newDayContainerWidth()}).append(r):e("#dynamic-days-container").css({width:Surge.newDayContainerWidth(),left:Surge.currentLeft()-Surge.widthOfThreeDayColumns()}).prepend(r),e(".calendar-button-spinner-wrapper").hide(),Surge.shouldEnablePreviousArrow()&&e(".js-previous-days").removeClass("disabled"),Surge.setDayColumnWidth(),e(".dynamic-calendar-wrapper").data("canRequest",1),"next"===a&&Surge.shouldGetNextSurge()?Surge.retrieveSurge(t,n,e(".next-date").last().data("next-date"),a):"previous"===a&&Surge.shouldGetPreviousSurge()?Surge.retrieveSurge(t,n,e(".next-date").first().data("previous-date"),a):void 0})},newDayContainerWidth:function(){return(Surge.numberOfDayColumns()+3)*Surge.widthOfDayColumn()},resizeDayContainerWidth:function(){return Surge.widthOfDayColumns()},canRequest:function(){return 1===e(".dynamic-calendar-wrapper").data("canRequest")},widthOfDayColumn:function(){var t,n;return n=parseInt(e(".dynamic-pricing-day-column").css("min-width").match(/[-\d]+/)[0]),t=Surge.widthOfThreeDayColumns()/3,n>t?n:t},widthOfThreeDayColumns:function(){return e(".dynamic-calendar-wrapper").outerWidth()},numberOfDayColumns:function(){return e(".dynamic-pricing-day-column").length},widthOfDayColumns:function(){return Surge.widthOfDayColumn()*Surge.numberOfDayColumns()},dayContainerWidth:function(){return e("#dynamic-days-container").outerWidth()},currentLeft:function(){return parseInt(e("#dynamic-days-container").css("left").match(/[-\d]+/)[0])},earliestDateRetrieved:function(){return e(".dynamic-pricing-day-column").first().data("date")},resizeCallbacks:function(){return Surge.setDayContainerWidth(),Surge.setDayColumnWidth()},adjustCssLeftForScroll:function(){return e(".spinner-wrapper-left").hide(),e("#dynamic-days-container").css({left:25})},shouldGetNextSurge:function(){var e,t;return e=Surge.widthOfDayColumns(),t=-Surge.currentLeft()+Surge.widthOfThreeDayColumns()-Surge.widthOfDayColumns(),Math.abs(t/e)<.07&&Surge.canRequest()},shouldGetPreviousSurge:function(){return Surge.canRequest()&&Surge.previousWithinRangeToRequest()&&Surge.dayColumnForTodayNotRetrieved()},shouldShowSpinner:function(e){var t;return t=Surge.currentLeft(),"previous"===e&&t>0||"next"===e&&Surge.dayContainerWidth()+t<=Surge.widthOfThreeDayColumns()},dayColumnForTodayNotRetrieved:function(){var e,t;return e=moment().startOf("day"),t=moment(Surge.earliestDateRetrieved()).startOf("day"),t.isAfter(e)},shouldDisablePreviousArrow:function(){var e;return e=Surge.currentLeft(),e>0?!0:!Surge.dayColumnForTodayNotRetrieved()&&0>e&&e>-Surge.widthOfThreeDayColumns()},shouldEnablePreviousArrow:function(){return Surge.dayColumnForTodayNotRetrieved()},previousWithinRangeToRequest:function(){var e;return e=Surge.currentLeft(),0>=e&&e>-Surge.widthOfThreeDayColumns()},shouldGoForward:function(){var e,t;return e=Surge.widthOfDayColumns(),t=Math.abs(Surge.currentLeft()),Math.abs((t-e)/e)>.01},shouldGoBackward:function(){return Surge.currentLeft()<=0},cssLeftForScroll:function(){return Surge.dayColumnForTodayNotRetrieved()?150:25},showOrHideButtonSpinners:function(t){return setTimeout(function(){return Surge.shouldShowSpinner(t)?e(".calendar-button-spinner-wrapper").show():e(".calendar-button-spinner-wrapper").hide()},250)},setDayColumnWidth:function(){return t=e(".dynamic-pricing-day-column").outerWidth(),e(".dynamic-pricing-day-column").css({width:Surge.widthOfDayColumn()})},setDayContainerWidth:function(){var n,r,a,i,o;return o=Surge.widthOfDayColumn(),a=e("dynamic-calendar-wrapper").scrollLeft(),i=Math.round(a/o/3),e("#dynamic-days-container").css({width:Surge.resizeDayContainerWidth()}),n=Math.abs(Surge.currentLeft()),Surge.shouldFlipScrollToCssLeft()?(e("#dynamic-days-container").css({left:0}),e(".dynamic-calendar-wrapper").scrollLeft(0),e(".js-previous-days").addClass("disabled")):Surge.shouldFlipCssLeftToScroll()&&(e(".dynamic-calendar-wrapper").scrollLeft(n),e("#dynamic-days-container").css({left:0})),r=Math.round(n/t),"scroll"!==e(".dynamic-calendar-wrapper").css("overflow-x")?e("#dynamic-days-container").css({left:-(r*o)}):void 0},shouldFlipScrollToCssLeft:function(){return!Surge.isScrollImplementation()&&e(".dynamic-calendar-wrapper").scrollLeft()>0},shouldFlipCssLeftToScroll:function(){return Surge.isScrollImplementation()&&0===e(".dynamic-calendar-wrapper").scrollLeft()&&"0px"!==e("#dynamic-days-container").css("left")},isScrollImplementation:function(){return"scroll"===e(".dynamic-calendar-wrapper").css("overflow-x")},setScrollLeft:function(){var t;return Surge.isScrollImplementation()&&(t=Surge.cssLeftForScroll(),e("#dynamic-days-container").css("left")!==""+t+"px")?e("#dynamic-days-container").css({left:t}):void 0},setInitialScroll:function(){var t;return Surge.isScrollImplementation()?(t=(e(".dynamic-calendar-wrapper").outerWidth()-3*Surge.widthOfDayColumn())/2,e(".dynamic-calendar-wrapper").scrollLeft(Surge.cssLeftForScroll()-t)):void 0}},e(".js-calendar-container").length?(e(".js-next-days").on("click",function(){var t,n;return n=e(".dynamic-calendar-wrapper").data("surgeUrl"),t=e(".next-date").last().data("nextDate"),Surge.getSurgeButton(n,"next",t)}),e(".js-previous-days").on("click",function(){var t,n;if(!e(this).hasClass("disabled"))return n=e(".dynamic-calendar-wrapper").data("surgeUrl"),t=e(".next-date").first().data("previous-date"),Surge.getSurgeButton(n,"previous",t)}),Surge.setDayColumnWidth(),Surge.setScrollLeft(),Surge.setInitialScroll(),e(window).resize(function(){return Surge.resizeCallbacks()}),e("#dynamic-days-container").css({width:Surge.widthOfDayColumns()}),e(".dynamic-calendar-wrapper").scroll(function(){var t,n,r;if(Surge.canRequest()){if(Surge.dayColumnForTodayNotRetrieved()&&Surge.setScrollLeft(),n=e(this).scrollLeft(),t=n+e(this).outerWidth(),r=e("#dynamic-days-container").outerWidth(),Surge.dayColumnForTodayNotRetrieved()&&800>n)return e(this).data("canRequest",0),Surge.getSurgeScroll(e(this).data("surgeUrl"),e(".next-date").first().data("previous-date"),"previous");if(800>r-t)return e(this).data("canRequest",0),Surge.getSurgeScroll(e(this).data("surgeUrl"),e(".next-date").last().data("nextDate"),"next")}})):void 0})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};jQuery(function(){var t,n,r;window.Page={usingExistingCreditCard:function(){return $(".js-existing-credit-card").is(":visible")&&$(".js-credit-card-entry-box").is(":hidden")},hasExistingCreditCard:function(){return $(".js-existing-credit-card").length},validCouponOnPage:function(){return $(".coupon-success-check").is(":visible")||$("#coupon_check").data("couponHasBeenApplied")},makingVoucherBooking:function(){return $("#itsavoucherbooking").length},userNumberOfCredits:function(){return $("#credits").data("credits")},bookingIsSurgePriced:function(){return $(".dynamic-pricing-section").length>0},requestSupplies:function(){return $("#cleaning_supplies_true").is(":checked")},fixedFees:function(){return $("input[name=cleaning_supplies]").length?$("input[name=cleaning_supplies]:checked").data("fee"):0},ukBooking:function(){return $("#js_uk_booking").length>0},recurringFreq:function(){return $(".js-recurring-section").find(":checked")[0].value},baseRedirectPath:function(){var e;return e=/^.+(?=\?)|^[^?]+$/,location.href.match(e)[0]}},window.Toggle={previousAddress:function(){var e;return e=$("#transaction_previous_address_false"),e.length?e.is(":checked")?($(".js-book-with-an-old-address-section").hide(),$(".js-enter-new-address-section").show()):($(".js-book-with-an-old-address-section").show(),$(".js-enter-new-address-section").hide()):void 0},recurringSelection:function(){var e;return e=$(".js-recurring-section input:checked"),"0"===e.val()?($(".js-frequency-row").hide(),$(".js-multi-recurring-section").hide()):(CouponHandler.shouldSubmitCouponOnRecurringChange()&&CouponHandler.callValidateCoupon(),$(".js-multi-recurring-section").show(),$(".js-frequency-row").show(),$(".recurring-frequency").text(e.next("label").text())),Toggle.surgePricingAvailabilityCalendar(e.val())},surgePricingAvailabilityCalendar:function(e){var t;return $(".dynamic-pricing-section").length?(e=$(".js-recurring-section input:checked").val(),$(".separator-marker").removeClass("separator-marker-0 separator-marker-1 separator-marker-2 separator-marker-4"),$(".separator-marker").addClass("separator-marker-"+e),"0"===e?($(".dynamic-pricing-section").removeClass("availability-calendar"),$(".dynamic-pricing-section").addClass("surge-calendar"),$(".availability-overlay").removeClass("overlay-shown"),$(".availability-lightbox input,.availability-lightbox button:submit").not($("#transaction_city,#transaction_state")).attr("disabled",!1)):($(".dynamic-pricing-section").removeClass("surge-calendar"),$(".dynamic-pricing-section").addClass("availability-calendar"),$(".availability-overlay").addClass("overlay-shown"),$(".availability-lightbox input,.availability-lightbox button:submit").not($("#transaction_city,#transaction_state")).attr("disabled",!0)),t="0"===e?"surge_cal":"recurring_cal",window.Handy.trackEvent("availability calendar",{calendar_source:t})):void 0}},$(".js-cc-cancel-update").on("click","a",function(){return $(".js-credit-card-entry-box, .js-cc-cancel-update").hide(),$(".js-existing-credit-card").show()}),$(".js-cc-show-update-box").on("click",function(){return $(".js-credit-card-entry-box, .js-cc-cancel-update").show(),$(".js-existing-credit-card").hide()}),$('.js-previous-or-new-address-control-box input[name="transaction[previous_address]"]').on("change",function(){return Toggle.previousAddress()}),$(".js-cleaning-extras-section, .js-request-supplies-section").on("change","input",function(){return ExtrasHandler.set_extras_upsell_text_and_hrs(),PriceHandler.updatePrice()}),window.checkPageForStickyHeader=function(){return $(window).width()<768?($(".flash-banner").length&&($(".flash-banner").addClass("flash-banner-sticky"),$(".flash-banner").is(":hidden")||$(".non-flash-banner-content").css("top",$(".flash-banner").outerHeight())),$(".success-banner").length?$(".payment-main-container").addClass("payment-main-container-coupon-banner-sticky"):$(".payment-main-container").addClass("payment-main-container-sticky"),$(".site-header").addClass("site-header-sticky"),$(".transactions-container").addClass("transactions-container-sticky"),$(".main-body-container").addClass("main-body-container-sticky"),$(".mobile-checkout-header").addClass("mobile-checkout-header-sticky"),$(".payment-info-container").addClass("hidden"),$(".success-banner").addClass("success-banner-mobile")):($(".flash-banner").length&&($(".flash-banner").removeClass("flash-banner-sticky"),$(".non-flash-banner-content").css("top","")),$(".site-header").removeClass("site-header-sticky"),$(".transactions-container").removeClass("transactions-container-sticky"),$(".payment-main-container").removeClass("payment-main-container-sticky"),$(".payment-main-container").removeClass("payment-main-container-coupon-banner-sticky"),$(".main-body-container").removeClass("main-body-container-sticky"),$(".mobile-checkout-header").removeClass("mobile-checkout-header-sticky"),$(".payment-info-container").removeClass("hidden"),$(".success-banner").removeClass("success-banner-mobile"))},window.paymentFormValidator=new FormValidator("new_transaction_form",[{name:"transaction[first_name]",rules:"required",depends:"hasExistingName"},{name:"transaction[last_name]",rules:"required",depends:"hasExistingName"},{name:"transaction[address]",rules:"required",depends:"hasExistingAddress"},{name:"transaction[city]",rules:"required",depends:"hasExistingAddress"},{name:"transaction[state]",rules:"required",depends:"hasExistingAddress"},{name:"transaction[full_phone]",rules:"required|min_length[9]"},{name:"card_number",rules:"required|numeric_and_space|min_length[14]",depends:"isCardRequired"},{name:"expiration",rules:"required|min_length[5]|callback_proper_expiration_format",depends:"isCardRequired"},{name:"card_code",rules:"required|numeric|min_length[3]",depends:"isCardRequired"},{name:"transaction[terms_of_use]",rules:"required",depends:function(){return $("#transaction_terms_of_use").length}}],function(e,t){return t.preventDefault(),formErrorHandler.clearErrors(),e.length?formErrorHandler.displayErrors(e):stripeForm.processCard()}),paymentFormValidator.registerConditional("isCardRequired",function(){return Page.usingExistingCreditCard()?!1:!0}),paymentFormValidator.registerConditional("hasExistingAddress",function(){return $(".js-previous-or-new-address-control-box")&&$("#transaction_previous_address_true").is(":checked")?!1:!0}),paymentFormValidator.registerConditional("hasExistingName",function(){return $(".checkout-address-block").length?!0:!1}),paymentFormValidator.registerCallback("proper_expiration_format",function(e){var t;return t=/^(0[1-9]|1[0-2])\/\d{2}$/,t.test(e)?!0:!1}),$(".js-limit-input").on("keypress keydown",function(t){var n,r;return n=t.which?t.which:t.keyCode,r=[8,9,13,32,37,39,46].concat([48,49,50,51,52,53,54,55,56,57]).concat([96,97,98,99,100,101,102,103,104,105]),"tel"!==this.type&&r.push.apply(r,[45,109,110,189,190]),e.call(r,n)>=0}),$(".js-phone-input").on("keyup keypress",function(e){var t;if(0===$("#js_uk_booking").length&&(t=$(this).val(),8!==e.which)){if(/^\d{3}$/.test(t))return $(this).val("("+t+") ");if(/^\(\d{3}\)\s\d{3}$/.test(t))return $(this).val(""+t+"-")}}),$(".js-phone-input").keydown(function(e){var t;if(0===$("#js_uk_booking").length&&(t=$(this).val(),8===e.which)){if(/^\(\d{3}\)\s$/.test(t))return $(this).val(t.slice(1,4));if(/^\(\d{3}\)\s\d{3}-$/.test(t))return $(this).val(t.slice(0,9))}}),$("#transaction_full_phone").on("blur",function(){var e,t,n;return n=/^\(\d{3}\)\s\d{3}-\d{4}$/,t=$("#transaction_full_phone").val(),n.test(t)||0!==$("#js_uk_booking").length||(e=t.replace(/\D/g,""),10!==e.length)?void 0:$("#transaction_full_phone").val(e.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"))}),$(".js-cc-date-input").on("keyup keypress",function(e){var t;if(t=$(this).val(),8!==e.which){if(2===t.length)return $(this).val(""+t+"/");if(5===t.length)return $(this).val(t)}}),window.formErrorHandler={clearErrors:function(){return $(".form-error").removeClass("form-error")},displayErrors:function(e){var t,n,r,a;if(e.length){for(formErrorHandler.jumpToTallest(e),a=[],n=0,r=e.length;r>n;n++)t=e[n],a.push($("#"+t.id).addClass("form-error"));return a}},jumpToTallest:function(e){var t,n;return n=$("#"+e[0].id),t=n.offset().top-150,$("html, body").animate({scrollTop:t+"px"},"fast"),n.focus()}},window.stripeForm={buildCreditCardFields:function(){var e;return e=$("#expiration").val().trim().split("/"),{number:$("#card_number").val().trim(),cvc:$("#card_code").val().trim(),expMonth:e[0],expYear:e[1]}},processCard:function(){var e;return $(".booking-continue-button").prop("disabled",!0),Page.usingExistingCreditCard()?($("#transaction_previous_card").val("true"),formSubmit.submit()):($("#transaction_previous_card").val(""),e=stripeForm.buildCreditCardFields(),Stripe.createToken(e,stripeForm.handleStripeResponse),spinnerControl.display())},handleStripeResponse:function(e,t){return 200===e?stripeForm.successfulTransaction(t):($(".booking-continue-button").html("Complete Booking"),$(".booking-continue-button").prop("disabled",!1),stripeForm.failedTransaction(t))},successfulTransaction:function(e){return $("#card_number, #card_code, #expiration").val(""),$("#transaction_stripe_card_token").val(e.id),formSubmit.submit()},failedTransaction:function(e){var t;switch(window.Handy.trackEvent("failed payment",{}),t=$(".js-stripe-errors-container"),e.error.param){case"number":t.text(e.error.message),$("#card_number").addClass("form-error");break;case"cvc":t.text(e.error.message),$("#card_code").addClass("form-error");break;case"exp_month":case"exp_year":t.text("Credit card information not recognized. Please try again."),$("#expiration").addClass("form-error");break;default:t.text(e.error.message)}return t.show()}},window.spinnerControl={currentHtml:void 0,display:function(e){return e||(e=$(".booking-continue-button")),spinnerControl.currentHtml=e.html(),$(e).html('<i class="fa fa-spinner fa-spin"></i>')}},window.formSubmit={canSubmit:function(){return!$(".booking-continue-button").prop("disabled")},submit:function(){return formSubmit.shouldSubmit()?(spinnerControl.display(),$("#new_transaction")[0].submit()):void 0},shouldSubmit:function(){return formSubmit.bookingIsRecurring()&&!formSubmit.bookingWasUpsoldToRecurring()?formSubmit.noReferralDiscountModalToDisplay():formSubmit.noUpsellModalToDisplay()||formSubmit.finishedWithUpsellModal()},bookingWasUpsoldToRecurring:function(){return"1"===$("#transaction_upsold_to_recurring").val()},bookingIsRecurring:function(){return"0"!==$('input[name="transaction[updated_recurring_freq]"]:checked').val()
},noReferralDiscountModalToDisplay:function(){return $("#referral-discount-modal").length>0&&$("#referral-discount-modal").is(":hidden")?($("#shown_referral_discount").val(1),window.Handy.trackEvent("referral_offer_shown",{}),formSubmit.showModal("#referral-discount-modal"),!1):!0},noUpsellModalToDisplay:function(){return $("#upsell-modal").length>0&&$("#upsell-modal").is(":hidden")?(PriceHandler.getPopupInfo(),formSubmit.showModal("#upsell-modal"),!1):!0},showModal:function(e){return $("html,body").animate({scrollTop:0},1),$("body").css("overflow","hidden"),setTimeout(function(){return $(e).foundation("reveal","open"),$("body").css("overflow","")},20)},finishedWithUpsellModal:function(){return $("#upsell-modal").is(":visible")}},$("#upsell-modal #updated_recurring_freq").change(function(){var e,t;return t="$"+$("option:selected",this).data("price")+"/hr*",e=$("option:selected",this).data("date"),$(".upsell-hourly-rate").html(t),$(".upsell-date").html(e)}),$("body").on("click",".subscribe-to-recurring",function(){var e;return $(".subscribe-to-recurring,.stick-with-one-time").prop("disabled",!0),e=$("#updated_recurring_freq").length?$("#updated_recurring_freq").val():$(this).data("freq"),$("#transaction_updated_recurring_freq_"+e).prop("checked",!0),$("#transaction_upsold_to_recurring").val(1),window.Handy.trackEvent("convert_to_upsell",{converted:!0}),spinnerControl.display($(this)),formSubmit.submit()}),$("body").on("click",".stick-with-one-time",function(){return window.Handy.trackEvent("convert_to_upsell",{converted:!1}),$(".subscribe-to-recurring,.stick-with-one-time").prop("disabled",!0),spinnerControl.display($(this)),formSubmit.submit()}),$("body").on("click",".js-hide-discount-modal",function(){return window.Handy.trackEvent("referral_input_cancelled",{}),$(".referral-discount-send-btn,.js-hide-discount-modal").prop("disabled",!0),formSubmit.submit()}),window.PriceHandler={mappingOfFrequencyValues:{0:{frequency:"price",text:""},1:{frequency:"weekly_recurring_price",text:"Every week"},2:{frequency:"bimonthly_recurring_price",text:"Every 2 weeks"},4:{frequency:"monthly_recurring_price",text:"Every 4 weeks"}},frequencySelected:function(){var e;return e=$('input[name="transaction[updated_recurring_freq]"]:checked'),0===e.length?"0":e.val()},bookingHrs:function(){return ExtrasHandler.bookingHrs()},getVoucherAdjustedPrice:function(){return PriceHandler.getAdjustedConsumerPrice()},getConsumerPrice:function(){return PriceHandler.getPriceForFrequencyAndHours(PriceHandler.frequencySelected(),PriceHandler.bookingHrs(),"original_price")},getAdjustedConsumerPrice:function(){return PriceHandler.getPriceForFrequencyAndHours(PriceHandler.frequencySelected(),PriceHandler.bookingHrs(),"discount_price")},getCouponDiscount:function(){return PriceHandler.getPriceForFrequencyAndHours(PriceHandler.frequencySelected(),PriceHandler.bookingHrs(),"coupon_discount")},getCreditDiscount:function(){return PriceHandler.getPriceForFrequencyAndHours(PriceHandler.frequencySelected(),PriceHandler.bookingHrs(),"credit_discount")},getUpsellMatrixCouponPrice:function(e){return $("#js-upsell-matrix").data("upsell-matrix")[e.toString()]},getPopupInfo:function(){var e,t,n;return t=$("#payment_summary_symbol").data("symbol"),n=PriceHandler.bookingHrs(),e=PriceHandler.getUpsellMatrixCouponPrice(n),$(".js-upsell-coupon-set-price").text(""+t+e),$(".js-booking-hours").text(""+n)},getPriceForFrequencyAndHours:function(e,t,n){var r,a,i;return r=PriceHandler.mappingOfFrequencyValues[e.toString()].frequency,a=$("#price_table").data("prices")[r],i=parseFloat(t).toFixed(1).toString(),parseInt(a[i][n])},getHourlyForFrequency:function(e){var t;return t=PriceHandler.mappingOfFrequencyValues[e.toString()].frequency,parseInt($("#recurring_hourly").data("hourlyPrices")[t])},updatePrice:function(e){var t,n,r,a,i,o,s,u,l,c,d,f,h,p,m,g,v,y,_;return f=Page.fixedFees(),d=Page.userNumberOfCredits(),a=PriceHandler.getConsumerPrice()+f,n=PriceHandler.getAdjustedConsumerPrice()+f,l=PriceHandler.getCreditDiscount(),o=PriceHandler.getCouponDiscount(),r=a-l,h=d-l,r>0&&h>0&&(t=Math.min(h,r),l+=t,n-=t),g=l>0||o>0||Page.makingVoucherBooking(),v=e?0:"slow",_=$("#payment_breakdown"),g?(y=$("#payment_summary_symbol").data("symbol")+a.toString(),$(".payment-summary-subtotal .payment-summary-amount").text(y),_.is(":hidden")&&_.stop().hide().slideDown(v)):_.stop().slideUp(v),i=$(".payment-summary-coupon"),o>0?(s="(-"+$("#payment_summary_symbol").data("symbol")+o.toString()+")",$(".payment-summary-coupon .payment-summary-amount").text(s),i.is(":hidden")&&i.stop().slideDown(v)):i.stop().slideUp(v),u=$(".payment-summary-credits"),l>0&&!Page.makingVoucherBooking()?(c="(-"+$("#payment_summary_symbol").data("symbol")+l.toString()+")",$(".payment-summary-credits .payment-summary-amount").text(c),u.is(":hidden")&&u.stop().slideDown(v)):u.stop().slideUp(v),Page.makingVoucherBooking()&&(m=PriceHandler.getHourlyForFrequency(PriceHandler.frequencySelected()),p="$"+m.toString()+"/hr",$(".js-future-hourly").html(p).stop().hide().fadeIn(v)),$(".js-total-price").html(n).stop().hide().fadeIn(v)}},window.CouponHandler={coupon_link_lock:!1,displayCouponErrorMessages:function(e){var t,n,r,a,i;for(t="",i=e[0][1],r=0,a=i.length;a>r;r++)n=i[r],t+=n+"<br/>";return $("#coupon_errors").html(t),"is_repeat"===e[0][0]?$(".recurring-coupon-error-box").text("This coupon requires you to select a recurring option"):void 0},shouldSubmitCouponOnRecurringChange:function(){return""!==$(".recurring-coupon-error-box").text()&&""!==$("#coupon").val()},canSubmitCoupon:function(){return!CouponHandler.coupon_link_lock&&$("#coupon").val()},callValidateCoupon:function(){var e;return CouponHandler.canSubmitCoupon()?(CouponHandler.coupon_link_lock=!0,$(".payment-summary-coupon .payment-summary-title").text("Coupon"),e={coupon:$("#coupon").val(),phone:$("#transaction_full_phone").val(),extra_hours:$("#transaction_extra_hours").val(),coupon_updated_frequency:$(".js-recurring-section input:checked").val(),booking_is_surged:Page.bookingIsSurgePriced()},spinnerControl.display($(".js-validate-coupon")),$.post($("#coupon_check").data("setCouponUrl"),e,function(e){return CouponHandler.validateCoupon(e)})):void 0},refreshCouponHtml:function(){return $(".js-validate-coupon").html("Apply"),$(".js-remove-coupon.hidden").html("Remove")},validateCoupon:function(e){return CouponHandler.refreshCouponHtml(),e.should_refresh_page&&(location.href=Page.baseRedirectPath()),e.errors&&e.errors.length?(CouponHandler.displayCouponErrorMessages(e.errors),$(".coupon-success-check").hide(),$(".coupon-error-check").show(),$("#coupon").addClass("form-error")):e.coupon_id&&($("#coupon_errors").empty(),e.repeat||$(".recurring-coupon-error-box").empty(),$(".js-validate-coupon").hide(),$(".js-remove-coupon").show(),$("#coupon").removeClass("form-error"),$("#price_table").data("prices",e.booking_prices),$(".coupon-error-check").hide(),$(".coupon-success-check").show(),e.repeat&&CouponHandler.toggleOneTimeBooking("disable"),PriceHandler.updatePrice(),$("#transaction_coupon_id").val(e.coupon_id)),CouponHandler.coupon_link_lock=!1},callRemoveCoupon:function(){return spinnerControl.display($(".js-remove-coupon")),$.post($("#coupon_check").data("removeCouponUrl"),{},function(e){return Page.bookingIsSurgePriced()?location.href=Page.baseRedirectPath():CouponHandler.removeCoupon(e)})},removeCoupon:function(e){return CouponHandler.refreshCouponHtml(),$(".js-validate-coupon").show(),$(".js-remove-coupon").hide(),$("#coupon").val(null),$(".coupon-success-check").hide(),$("#coupon_errors").html(null),$("#transaction_coupon_id").val(null),$("#price_table").data("prices",e.booking_prices),CouponHandler.toggleOneTimeBooking("enable"),PriceHandler.updatePrice()},toggleOneTimeBooking:function(e){var t;return t=$("#transaction_updated_recurring_freq_0"),"disable"===e?(t.prop("disabled",!0),t.next().addClass("disabled-button")):"enable"===e?(t.prop("disabled",!1),t.next().removeClass("disabled-button")):void 0}},$(".js-validate-coupon").on("click update",function(e){return e.preventDefault(),CouponHandler.callValidateCoupon(),!1}),$(".coupon-input-holder input#coupon").on("keydown keypress keyup",function(e){return 13===e.which?(e.preventDefault(),e.cancelBubble=!0,CouponHandler.callValidateCoupon(),!1):void 0}),$(".js-remove-coupon").on("click update",function(e){return e.preventDefault(),CouponHandler.callRemoveCoupon(),$(".coupon-success-check").hide(),!1}),r=function(e){var t,n;return t={new_start:e.data("dateStart")},n=e.children(".dynamic-booking-time"),spinnerControl.display(n),$.ajax({type:"POST",url:e.data("url"),data:t,success:function(){return location.href=Page.baseRedirectPath()}})},n=function(){return!$(this).hasClass("day")||$(".availability-calendar").length&&$(this).hasClass("peak-price")?void 0:r($(this))},$("body").on("click",".js-dynamic-calendar .resubmit-price",n),window.ExtrasHandler=function(){var e,t,n,r,a,i,o,s,u,l;return l=function(){return r(),a(),n()},n=function(){var e,t,n;return n=null!=$("#extra_cleaning").data("displayHours")?i():u(),e=o(),t=n+e,$(".js-job-hours").html(t),$("#transaction_extra_hours").val(e)},e=function(e){return"<li class='booking-added-extra'> + "+e+"</li>"},r=function(){var t;return $(".js-extra-list").empty(),t="",$(".cleaning-extra-holder input").each(function(){return $(this).is(":checked")?(t+=e($(this).data("name")),$(this).siblings().children(".payment-page-extra-icon").addClass("secondary-bg-color-icon"),$(this).siblings().children(".payment-page-extra-icon").removeClass("secondary-color-icon")):($(this).siblings().children(".payment-page-extra-icon").addClass("secondary-color-icon"),$(this).siblings().children(".payment-page-extra-icon").removeClass("secondary-bg-color-icon"))}),t?$(".js-extra-list").append(t):void 0},a=function(){return $(".js-extra-flat-fee-list").empty(),Page.requestSupplies()?$(".js-extra-flat-fee-list").append(e($("#cleaning_supplies_true").data("label"))):void 0},t=function(){return u()+o()},o=function(){var e,t,n,r,a;for(t=$(".cleaning-extra-holder input:checked"),n=0,r=0,a=t.length;a>r;r++)e=t[r],n+=parseFloat($(e).data("hrs"),10);return n},u=function(){return parseFloat($("#extra_cleaning").data("cleaningHours"))},i=function(){return parseFloat($("#extra_cleaning").data("displayHours"))},s=function(e){return PriceHandler.getPriceForFrequencyAndHours(e,t(),"discount_price")},{set_extras_upsell_text_and_hrs:l,bookingHrs:t,extra_hrs:o,getPriceForRecurringFrequency:s}}(),$(".transactions-container").length&&(checkPageForStickyHeader(),$(window).resize(function(){return checkPageForStickyHeader()})),Page.hasExistingCreditCard()&&$(".js-credit-card-entry-box").hide();try{Stripe.setPublishableKey($('meta[name="stripe-key"]').attr("content"))}catch(a){}return Page.validCouponOnPage()&&$(".js-validate-coupon").trigger("update"),$(".js-previous-or-new-address-control-box").length&&$(".js-enter-new-address-section").hide(),$(".js-scrolling-sidebar").length&&$(".payment-main-container").length&&$(window).width()>767&&$(window).scroll(function(){var e,t,n,r,a,i;return r=$(".js-scrolling-sidebar"),e=$(".payment-main-container"),i=5,a=0,t=$(".payment-main-container").height()-$(".js-scrolling-sidebar").height()/2,$(window).scrollTop()>e.offset().top&&$(window).width()>767?(n=$(window).scrollTop()-e.offset().top+i,n=n>t?t:n,r.stop().animate({marginTop:n},a)):r.stop().animate({marginTop:0},a)}),$("#js-chat-link").on("click",function(){return olark("api.box.expand")}),t=function(){var e;return e=$(".surge-calendar").length?$("#js-saw-surge-pricing"):$("#js-saw-availability-calendar"),e.length&&!e.hasClass("confirmed")?$.post(e.data("url"),{},function(){return e.addClass("confirmed")}):void 0},Page.requestSupplies()&&(ExtrasHandler.set_extras_upsell_text_and_hrs(),PriceHandler.updatePrice(!1)),Toggle.surgePricingAvailabilityCalendar($(".js-recurring-section input:checked").val()),$(".js-recurring-section").on("click initialize","input",function(e){var n;return $(this).prop("checked",!0),n="initialize"===e.type?!1:!0,Toggle.recurringSelection(),$(".dynamic-pricing-section").length&&(t(),Surge.resizeCallbacks()),PriceHandler.updatePrice(!n)}),$("#new_transaction").sisyphus({locationBased:!0,excludeFields:$('input[name="authenticity_token"],input[name="utf8"],.js-credit-card-entry-box input,#transaction_variant_ids,#transaction_previous_card,#transaction_stripe_card_token'),onRestore:function(){return ExtrasHandler.set_extras_upsell_text_and_hrs(),PriceHandler.updatePrice(),Toggle.previousAddress(),Toggle.recurringSelection()}}),$("#js-detected-scamming").length>0&&window.Handy.trackEvent("duplicate_user_attempt",$("#js-detected-scamming").data()),$(".dynamic-pricing-section").length&&!$(".dynamic-pricing-section").hasClass("hidden")&&t(),window.optimizely=window.optimizely||[],window.optimizely.push(["activate",1622012715])})}.call(this),function(){jQuery(function(){return $("#js-password-reset-button").click(function(){var e,t,n;return n=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,e=$("#js-password-reset-email").val(),n.test(e)?($("#js-password-reset-email").removeClass("form-error"),t={email:e},$.post($("#password-reset-url").data("url"),t,function(e){return e.success?$(".js-password-reset-success").show():void 0})):$("#js-password-reset-email").addClass("form-error")})})}.call(this),function(){jQuery(function(){return window.validatorMessages={password:"Your password must be 8 alphanumeric characters.",password_confirmation:"Your password confirmation must match."},window.extraInfoForm=new FormValidator("extra_info_form",[{name:"booking[getin]",rules:"required"},{name:"getintxt",rules:"required",depends:function(){return $("#booking_getin_3").is(":checked")}},{name:"msgtoprovider"},{name:"password",rules:"required|min_length[8]|alpha_dash",depends:"checkIfPasswordFieldPresent"},{name:"password_confirmation",rules:"required|matches[password]",depends:"checkIfPasswordFieldPresent"}],function(e,t){var n,r,a,i,o,s,u,l,c,d;if(i=function(e){return"<div class='message error-desc'>"+(window.validatorMessages[e.name]||e.message)+"</div>"},t.preventDefault(),r=$(".extra-info-errors-container"),r.children().remove(),e.length){for(r.show(),a=_.reject(e,function(e){return"getintxt"===e.name}),s=0,l=e.length;l>s;s++)n=e[s],$("#"+n.id).addClass("form-error");for(d=[],u=0,c=a.length;c>u;u++)n=a[u],d.push(r.append(i(n)));return d}return r.hide(),o=$("#msgtoprovider")[0],o.value===o.placeholder&&(o.value=""),window.Handy.trackEvent("confirmation submitted",$("#conversion_successful_properties").data()),spinnerControl.display(),t.originalEvent.target.submit()}),extraInfoForm.registerConditional("checkIfPasswordFieldPresent",function(){return $("#booking_password").length}),$(".pro-access-button-holder").on("change",function(){return $("#booking_getin_3").is(":checked")?$(".js-hide-the-key").show():$(".js-hide-the-key").hide()}),$(document).on("click",".fb-referral-share",function(e){var t,n,r,a;return e.preventDefault(),r=$(".coupon_data").data("code"),n=$(".coupon_data").data("amount"),a=$(".coupon_data").data("url"),t=$(".coupon_data").data("base"),FB.ui({method:"feed",display:"popup",name:"Get $"+n+" Off at Handy!",link:a,picture:"http://marketing-email-assets.handybook.com/fb_referral/fb-1200x627-sharecode-3.jpg",caption:t,description:"Use my promo code, "+r+", to get $"+n+" off your first home cleaning or handyman service with Handy!"},function(e){return e&&e.post_id?window.Handy.trackEvent("fb-referral-share - success",{coupon:r}):$("#ajax-message").error("Something seems to have gone wrong. Please reload the page and try again!")})}),$("#referral-experiment-modal").foundation("reveal","open")})}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};jQuery(function(t){return t("body").on("click",".js-faqs-details-reveal",function(n){var r,a,i;return e.call(n.target.classList,"js-faqs-details-reveal")>=0?(i=t(this).parent(),r=i.find(".fa-caret-right"),a=i.find(".faqs-list-item-details"),a.is(":hidden")?(t(".fa-caret-right.fa-rotate-90").removeClass("fa-rotate-90"),r.addClass("fa-rotate-90"),t(".faqs-list-item-details").filter(":visible").slideUp(),a.slideDown()):(r.removeClass("fa-rotate-90"),a.slideUp())):void 0})})}.call(this),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n;e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var a=e.Event(n);return t.trigger(a,r),a.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(r){var a,i,o,s,u,l,c,d;if(n.fire(r,"ajax:before")){if(s=r.data("cross-domain"),u=s===t?null:s,l=r.data("with-credentials")||null,c=r.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,r.is("form")){a=r.attr("method"),i=r.attr("action"),o=r.serializeArray();var f=r.data("ujs:submit-button");f&&(o.push(f),r.data("ujs:submit-button",null))}else r.is(n.inputChangeSelector)?(a=r.data("method"),i=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(a=r.data("method")||"get",i=r.data("url"),o=r.serialize(),r.data("params")&&(o=o+"&"+r.data("params"))):(a=r.data("method"),i=n.href(r),o=r.data("params")||null);d={type:a||"GET",data:o,dataType:c,beforeSend:function(e,a){return a.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),n.fire(r,"ajax:beforeSend",[e,a])},success:function(e,t,n){r.trigger("ajax:success",[e,t,n])},complete:function(e,t){r.trigger("ajax:complete",[e,t])},error:function(e,t,n){r.trigger("ajax:error",[e,t,n])},crossDomain:u},l&&(d.xhrFields={withCredentials:l}),i&&(d.url=i);var h=n.ajax(d);return r.trigger("ajax:send",h),h}return!1},handleMethod:function(r){var a=n.href(r),i=r.data("method"),o=r.attr("target"),s=e("meta[name=csrf-token]").attr("content"),u=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+a+'"></form>'),c='<input name="_method" value="'+i+'" type="hidden" />';u!==t&&s!==t&&(c+='<input name="'+u+'" value="'+s+'" type="hidden" />'),o&&l.attr("target",o),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,r=e.data("confirm"),a=!1;return r?(n.fire(e,"confirm")&&(a=n.confirm(r),t=n.fire(e,"confirm:complete",[a])),a&&t):!0},blankInputs:function(t,n,r){var a,i,o=e(),s=n||"input,textarea",u=t.find(s);return u.each(function(){if(a=e(this),i=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!i==!r){if(a.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;o=o.add(a)}}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,r){e.crossDomain||n.CSRFProtection(r)}),e(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),e(document).delegate(n.linkClickSelector,"click.rails",function(r){var a=e(this),i=a.data("method"),o=a.data("params");if(!n.allowAction(a))return n.stopEverything(r);if(a.is(n.linkDisableSelector)&&n.disableElement(a),a.data("remote")!==t){if(!(!r.metaKey&&!r.ctrlKey||i&&"GET"!==i||o))return!0;var s=n.handleRemote(a);return s===!1?n.enableElement(a):s.error(function(){n.enableElement(a)}),!1}return a.data("method")?(n.handleMethod(a),!1):void 0}),e(document).delegate(n.buttonClickSelector,"click.rails",function(t){var r=e(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),e(document).delegate(n.inputChangeSelector,"change.rails",function(t){var r=e(this);return n.allowAction(r)?(n.handleRemote(r),!1):n.stopEverything(t)}),e(document).delegate(n.formSubmitSelector,"submit.rails",function(r){var a=e(this),i=a.data("remote")!==t,o=n.blankInputs(a,n.requiredInputSelector),s=n.nonBlankInputs(a,n.fileInputSelector);if(!n.allowAction(a))return n.stopEverything(r);if(o&&a.attr("novalidate")==t&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(r);if(i){if(s){setTimeout(function(){n.disableFormElements(a)},13);var u=n.fire(a,"ajax:aborted:file",[s]);return u||setTimeout(function(){n.enableFormElements(a)},13),u}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),e(document).delegate(n.formInputClickSelector,"click.rails",function(t){var r=e(this);if(!n.allowAction(r))return n.stopEverything(t);var a=r.attr("name"),i=a?{name:a,value:r.val()}:null;r.closest("form").data("ujs:submit-button",i)}),e(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),e(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))}(jQuery),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e,t){function n(){ft.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var r=!0;return l(function(){return r&&(n(),r=!1),t.apply(this,arguments)},t)}function a(e,t){return function(n){return f(e.call(this,n),t)}}function i(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function o(){}function s(e){S(e),l(this,e)}function u(e){var t=y(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+o+7*i,this._months=+a+3*r+12*n,this._data={},this._bubble()}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function c(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&Ct.hasOwnProperty(t)&&(n[t]=e[t]);return n}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function f(e,t,n){for(var r=""+Math.abs(e),a=e>=0;r.length<t;)r="0"+r;return(a?n?"+":"":"-")+r}function h(e,t,n,r){var a=t._milliseconds,i=t._days,o=t._months;r=null==r?!0:r,a&&e._d.setTime(+e._d+a*n),i&&st(e,"Date",ot(e,"Date")+i*n),o&&it(e,ot(e,"Month")+o*n),r&&ft.updateOffset(e,i||o)}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function g(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(r=0;a>r;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&o++;return o+i}function v(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=tn[e]||nn[t]||t}return e}function y(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=v(n),t&&(r[t]=e[n]));return r}function _(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}ft[t]=function(a,i){var o,s,u=ft.fn._lang[t],l=[];if("number"==typeof a&&(i=a,a=e),s=function(e){var t=ft().utc().set(r,e);return u.call(ft.fn._lang,t,a||"")},null!=i)return s(i);for(o=0;n>o;o++)l.push(s(o));return l}}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function w(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function k(e,t,n){return tt(ft([e,11,31+t-n]),t,n).week}function $(e){return x(e)?366:365}function x(e){return e%4===0&&e%100!==0||e%400===0}function S(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[_t]<0||e._a[_t]>11?_t:e._a[bt]<1||e._a[bt]>w(e._a[yt],e._a[_t])?bt:e._a[wt]<0||e._a[wt]>23?wt:e._a[kt]<0||e._a[kt]>59?kt:e._a[$t]<0||e._a[$t]>59?$t:e._a[xt]<0||e._a[xt]>999?xt:-1,e._pf._overflowDayOfYear&&(yt>t||t>bt)&&(t=bt),e._pf.overflow=t)}function C(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function D(e){return e?e.toLowerCase().replace("_","-"):e}function T(e,t){return t._isUTC?ft(e).zone(t._offset||0):ft(e).local()}function j(e,t){return t.abbr=e,St[e]||(St[e]=new o),St[e].set(t),St[e]}function M(e){delete St[e]}function F(e){var t,n,r,a,i=0,o=function(e){if(!St[e]&&Dt)try{require("./lang/"+e)}catch(t){}return St[e]};if(!e)return ft.fn._lang;if(!p(e)){if(n=o(e))return n;e=[e]}for(;i<e.length;){for(a=D(e[i]).split("-"),t=a.length,r=D(e[i+1]),r=r?r.split("-"):null;t>0;){if(n=o(a.slice(0,t).join("-")))return n;if(r&&r.length>=t&&g(a,r,!0)>=t-1)break;t--}i++}return ft.fn._lang}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function O(e){var t,n,r=e.match(Ft);for(t=0,n=r.length;n>t;t++)r[t]=un[r[t]]?un[r[t]]:P(r[t]);return function(a){var i="";for(t=0;n>t;t++)i+=r[t]instanceof Function?r[t].call(a,e):r[t];return i}}function H(e,t){return e.isValid()?(t=Y(t,e.lang()),rn[t]||(rn[t]=O(t)),rn[t](e)):e.lang().invalidDate()}function Y(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Pt.lastIndex=0;r>=0&&Pt.test(e);)e=e.replace(Pt,n),Pt.lastIndex=0,r-=1;return e}function E(e,t){var n,r=t._strict;switch(e){case"Q":return Lt;case"DDDD":return Bt;case"YYYY":case"GGGG":case"gggg":return r?Ut:Yt;case"Y":case"G":case"g":return Vt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?Gt:Et;case"S":if(r)return Lt;case"SS":if(r)return Nt;case"SSS":if(r)return Bt;case"DDD":return Ht;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return qt;case"a":case"A":return F(t._l)._meridiemParse;case"X":return Wt;case"Z":case"ZZ":return At;case"T":return Rt;case"SSSS":return It;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?Nt:Ot;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ot;case"Do":return zt;default:return n=new RegExp(B(N(e.replace("\\","")),"i"))}}function I(e){e=e||"";var t=e.match(At)||[],n=t[t.length-1]||[],r=(n+"").match(Xt)||["-",0,0],a=+(60*r[1])+b(r[2]);return"+"===r[0]?-a:a}function q(e,t,n){var r,a=n._a;switch(e){case"Q":null!=t&&(a[_t]=3*(b(t)-1));break;case"M":case"MM":null!=t&&(a[_t]=b(t)-1);break;case"MMM":case"MMMM":r=F(n._l).monthsParse(t),null!=r?a[_t]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(a[bt]=b(t));break;case"Do":null!=t&&(a[bt]=b(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=b(t));break;case"YY":a[yt]=ft.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":a[yt]=b(t);break;case"a":case"A":n._isPm=F(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":a[wt]=b(t);break;case"m":case"mm":a[kt]=b(t);break;case"s":case"ss":a[$t]=b(t);break;case"S":case"SS":case"SSS":case"SSSS":a[xt]=b(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=I(t);break;case"dd":case"ddd":case"dddd":r=F(n._l).weekdaysParse(t),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=b(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=ft.parseTwoDigitYear(t)}}function A(e){var n,r,a,i,o,s,u,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,s=4,r=t(n.GG,e._a[yt],tt(ft(),1,4).year),a=t(n.W,1),i=t(n.E,1)):(l=F(e._l),o=l._week.dow,s=l._week.doy,r=t(n.gg,e._a[yt],tt(ft(),o,s).year),a=t(n.w,1),null!=n.d?(i=n.d,o>i&&++a):i=null!=n.e?n.e+o:o),u=nt(r,a,i,s,o),e._a[yt]=u.year,e._dayOfYear=u.dayOfYear}function R(e){var n,r,a,i,o=[];if(!e._d){for(a=z(e),e._w&&null==e._a[bt]&&null==e._a[_t]&&A(e),e._dayOfYear&&(i=t(e._a[yt],a[yt]),e._dayOfYear>$(i)&&(e._pf._overflowDayOfYear=!0),r=J(i,0,e._dayOfYear),e._a[_t]=r.getUTCMonth(),e._a[bt]=r.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=o[n]=a[n];for(;7>n;n++)e._a[n]=o[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?J:Q).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function W(e){var t;e._d||(t=y(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],R(e))}function z(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function L(e){if(e._f===ft.ISO_8601)return G(e),void 0;e._a=[],e._pf.empty=!0;var t,n,r,a,i,o=F(e._l),s=""+e._i,u=s.length,l=0;for(r=Y(e._f,o).match(Ft)||[],t=0;t<r.length;t++)a=r[t],n=(s.match(E(a,e))||[])[0],n&&(i=s.substr(0,s.indexOf(n)),i.length>0&&e._pf.unusedInput.push(i),s=s.slice(s.indexOf(n)+n.length),l+=n.length),un[a]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(a),q(a,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(a);e._pf.charsLeftOver=u-l,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[wt]<12&&(e._a[wt]+=12),e._isPm===!1&&12===e._a[wt]&&(e._a[wt]=0),R(e),S(e)}function N(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a})}function B(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(e){var t,r,a,i,o;if(0===e._f.length)return e._pf.invalidFormat=!0,e._d=new Date(0/0),void 0;for(i=0;i<e._f.length;i++)o=0,t=l({},e),t._pf=n(),t._f=e._f[i],L(t),C(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==a||a>o)&&(a=o,r=t));l(e,r||t)}function G(e){var t,n,r=e._i,a=Zt.exec(r);if(a){for(e._pf.iso=!0,t=0,n=Jt.length;n>t;t++)if(Jt[t][1].exec(r)){e._f=Jt[t][0]+(a[6]||" ");break}for(t=0,n=Kt.length;n>t;t++)if(Kt[t][1].exec(r)){e._f+=Kt[t][0];break}r.match(At)&&(e._f+="Z"),L(e)}else e._isValid=!1}function V(e){G(e),e._isValid===!1&&(delete e._isValid,ft.createFromInputFallback(e))}function Z(t){var n=t._i,r=Tt.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):"string"==typeof n?V(t):p(n)?(t._a=n.slice(0),R(t)):m(n)?t._d=new Date(+n):"object"==typeof n?W(t):"number"==typeof n?t._d=new Date(n):ft.createFromInputFallback(t)}function Q(e,t,n,r,a,i,o){var s=new Date(e,t,n,r,a,i,o);return 1970>e&&s.setFullYear(e),s}function J(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function K(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function X(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}function et(e,t,n){var r=vt(Math.abs(e)/1e3),a=vt(r/60),i=vt(a/60),o=vt(i/24),s=vt(o/365),u=r<an.s&&["s",r]||1===a&&["m"]||a<an.m&&["mm",a]||1===i&&["h"]||i<an.h&&["hh",i]||1===o&&["d"]||o<=an.dd&&["dd",o]||o<=an.dm&&["M"]||o<an.dy&&["MM",vt(o/30)]||1===s&&["y"]||["yy",s];return u[2]=t,u[3]=e>0,u[4]=n,X.apply({},u)}function tt(e,t,n){var r,a=n-t,i=n-e.day();return i>a&&(i-=7),a-7>i&&(i+=7),r=ft(e).add("d",i),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function nt(e,t,n,r,a){var i,o,s=J(e,0,1).getUTCDay();
return s=0===s?7:s,n=null!=n?n:a,i=a-s+(s>r?7:0)-(a>s?7:0),o=7*(t-1)+(n-a)+i+1,{year:o>0?e:e-1,dayOfYear:o>0?o:$(e-1)+o}}function rt(t){var n=t._i,r=t._f;return null===n||r===e&&""===n?ft.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=F().preparse(n)),ft.isMoment(n)?(t=c(n),t._d=new Date(+n._d)):r?p(r)?U(t):L(t):Z(t),new s(t))}function at(e,t){var n,r;if(1===t.length&&p(t[0])&&(t=t[0]),!t.length)return ft();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function it(e,t){var n;return"string"==typeof t&&(t=e.lang().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),w(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ot(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function st(e,t,n){return"Month"===t?it(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ut(e,t){return function(n){return null!=n?(st(this,e,n),ft.updateOffset(this,t),this):ot(this,e)}}function lt(e){ft.duration.fn[e]=function(){return this._data[e]}}function ct(e,t){ft.duration.fn["as"+e]=function(){return+this/t}}function dt(e){"undefined"==typeof ender&&(ht=gt.moment,gt.moment=e?r("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ft):ft)}for(var ft,ht,pt,mt="2.7.0",gt="undefined"!=typeof global?global:this,vt=Math.round,yt=0,_t=1,bt=2,wt=3,kt=4,$t=5,xt=6,St={},Ct={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},Dt="undefined"!=typeof module&&module.exports,Tt=/^\/?Date\((\-?\d+)/i,jt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Mt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Ft=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Pt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Ot=/\d\d?/,Ht=/\d{1,3}/,Yt=/\d{1,4}/,Et=/[+\-]?\d{1,6}/,It=/\d+/,qt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,At=/Z|[\+\-]\d\d:?\d\d/gi,Rt=/T/i,Wt=/[\+\-]?\d+(\.\d{1,3})?/,zt=/\d{1,2}/,Lt=/\d/,Nt=/\d\d/,Bt=/\d{3}/,Ut=/\d{4}/,Gt=/[+-]?\d{6}/,Vt=/[+-]?\d+/,Zt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qt="YYYY-MM-DDTHH:mm:ssZ",Jt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Kt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Xt=/([\+\-]|\d\d)/gi,en=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),tn={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},nn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},rn={},an={s:45,m:45,h:22,dd:25,dm:45,dy:345},on="DDD w W M D d".split(" "),sn="M D H h m s w W".split(" "),un={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return f(this.year()%100,2)},YYYY:function(){return f(this.year(),4)},YYYYY:function(){return f(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+f(Math.abs(e),6)},gg:function(){return f(this.weekYear()%100,2)},gggg:function(){return f(this.weekYear(),4)},ggggg:function(){return f(this.weekYear(),5)},GG:function(){return f(this.isoWeekYear()%100,2)},GGGG:function(){return f(this.isoWeekYear(),4)},GGGGG:function(){return f(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return b(this.milliseconds()/100)},SS:function(){return f(b(this.milliseconds()/10),2)},SSS:function(){return f(this.milliseconds(),3)},SSSS:function(){return f(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+f(b(e/60),2)+":"+f(b(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+f(b(e/60),2)+f(b(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ln=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];on.length;)pt=on.pop(),un[pt+"o"]=i(un[pt],pt);for(;sn.length;)pt=sn.pop(),un[pt+pt]=a(un[pt],2);for(un.DDDD=a(un.DDD,3),l(o.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=ft.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=ft([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,r):a.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ft=function(t,r,a,i){var o;return"boolean"==typeof a&&(i=a,a=e),o={},o._isAMomentObject=!0,o._i=t,o._f=r,o._l=a,o._strict=i,o._isUTC=!1,o._pf=n(),rt(o)},ft.suppressDeprecationWarnings=!1,ft.createFromInputFallback=r("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),ft.min=function(){var e=[].slice.call(arguments,0);return at("isBefore",e)},ft.max=function(){var e=[].slice.call(arguments,0);return at("isAfter",e)},ft.utc=function(t,r,a,i){var o;return"boolean"==typeof a&&(i=a,a=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=a,o._i=t,o._f=r,o._strict=i,o._pf=n(),rt(o).utc()},ft.unix=function(e){return ft(1e3*e)},ft.duration=function(e,t){var n,r,a,i=e,o=null;return ft.isDuration(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(i={},t?i[t]=e:i.milliseconds=e):(o=jt.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:b(o[bt])*n,h:b(o[wt])*n,m:b(o[kt])*n,s:b(o[$t])*n,ms:b(o[xt])*n}):(o=Mt.exec(e))&&(n="-"===o[1]?-1:1,a=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},i={y:a(o[2]),M:a(o[3]),d:a(o[4]),h:a(o[5]),m:a(o[6]),s:a(o[7]),w:a(o[8])}),r=new u(i),ft.isDuration(e)&&e.hasOwnProperty("_lang")&&(r._lang=e._lang),r},ft.version=mt,ft.defaultFormat=Qt,ft.ISO_8601=function(){},ft.momentProperties=Ct,ft.updateOffset=function(){},ft.relativeTimeThreshold=function(t,n){return an[t]===e?!1:(an[t]=n,!0)},ft.lang=function(e,t){var n;return e?(t?j(D(e),t):null===t?(M(e),e="en"):St[e]||F(e),n=ft.duration.fn._lang=ft.fn._lang=F(e),n._abbr):ft.fn._lang._abbr},ft.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),F(e)},ft.isMoment=function(e){return e instanceof s||null!=e&&e.hasOwnProperty("_isAMomentObject")},ft.isDuration=function(e){return e instanceof u},pt=ln.length-1;pt>=0;--pt)_(ln[pt]);ft.normalizeUnits=function(e){return v(e)},ft.invalid=function(e){var t=ft.utc(0/0);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},ft.parseZone=function(){return ft.apply(null,arguments).parseZone()},ft.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)},l(ft.fn=s.prototype,{clone:function(){return ft(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=ft(this).utc();return 0<e.year()&&e.year()<=9999?H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return C(this)},isDSTShifted:function(){return this._a?this.isValid()&&g(this._a,(this._isUTC?ft.utc(this._a):ft(this._a)).toArray())>0:!1},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=H(this,e||ft.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e&&"string"==typeof t?ft.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?ft.duration(+t,e):ft.duration(e,t),h(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e&&"string"==typeof t?ft.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?ft.duration(+t,e):ft.duration(e,t),h(this,n,-1),this},diff:function(e,t,n){var r,a,i=T(e,this),o=6e4*(this.zone()-i.zone());return t=v(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+i.daysInMonth()),a=12*(this.year()-i.year())+(this.month()-i.month()),a+=(this-ft(this).startOf("month")-(i-ft(i).startOf("month")))/r,a-=6e4*(this.zone()-ft(this).startOf("month").zone()-(i.zone()-ft(i).startOf("month").zone()))/r,"year"===t&&(a/=12)):(r=this-i,a="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-o)/864e5:"week"===t?(r-o)/6048e5:r),n?a:d(a)},from:function(e,t){return ft.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(ft(),e)},calendar:function(e){var t=e||ft(),n=T(t,this).startOf("day"),r=this.diff(n,"days",!0),a=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return x(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=K(e,this.lang()),this.add({d:e-t})):t},month:ut("Month",!0),startOf:function(e){switch(e=v(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=v(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+ft(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+ft(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+T(e,this).startOf(t)},min:r("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=ft.apply(null,arguments),this>e?this:e}),max:r("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=ft.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n=this._offset||0;return null==e?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof e&&(e=I(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,n!==e&&(!t||this._changeInProgress?h(this,ft.duration(n-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ft.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?ft(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return w(this.year(),this.month())},dayOfYear:function(e){var t=vt((ft(this).startOf("day")-ft(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=tt(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=tt(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return k(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return k(this.year(),e.dow,e.doy)},get:function(e){return e=v(e),this[e]()},set:function(e,t){return e=v(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=F(t),this)}}),ft.fn.millisecond=ft.fn.milliseconds=ut("Milliseconds",!1),ft.fn.second=ft.fn.seconds=ut("Seconds",!1),ft.fn.minute=ft.fn.minutes=ut("Minutes",!1),ft.fn.hour=ft.fn.hours=ut("Hours",!0),ft.fn.date=ut("Date",!0),ft.fn.dates=r("dates accessor is deprecated. Use date instead.",ut("Date",!0)),ft.fn.year=ut("FullYear",!0),ft.fn.years=r("years accessor is deprecated. Use year instead.",ut("FullYear",!0)),ft.fn.days=ft.fn.day,ft.fn.months=ft.fn.month,ft.fn.weeks=ft.fn.week,ft.fn.isoWeeks=ft.fn.isoWeek,ft.fn.quarters=ft.fn.quarter,ft.fn.toJSON=ft.fn.toISOString,l(ft.duration.fn=u.prototype,{_bubble:function(){var e,t,n,r,a=this._milliseconds,i=this._days,o=this._months,s=this._data;s.milliseconds=a%1e3,e=d(a/1e3),s.seconds=e%60,t=d(e/60),s.minutes=t%60,n=d(t/60),s.hours=n%24,i+=d(n/24),s.days=i%30,o+=d(i/30),s.months=o%12,r=d(o/12),s.years=r},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)},humanize:function(e){var t=+this,n=et(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=ft.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=ft.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=v(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=v(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:ft.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),a=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||a||i?"T":"")+(r?r+"H":"")+(a?a+"M":"")+(i?i+"S":""):"P0D"}});for(pt in en)en.hasOwnProperty(pt)&&(ct(pt,en[pt]),lt(pt.toLowerCase()));ct("Weeks",6048e5),ft.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ft.lang("en",{ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Dt?module.exports=ft:"function"==typeof define&&define.amd?(define("moment",function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(gt.moment=ht),ft}),dt(!0)):dt()}.call(this),/*!
 * Pikaday
 *
 * Copyright Â© 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(r){}module.exports=t(n)}else"function"==typeof define&&define.amd?define(function(e){var r="moment";return n=e.defined&&e.defined(r)?e(r):void 0,t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,r=window.document,a=window.setTimeout,i=function(e,t,r,a){n?e.addEventListener(t,r,!!a):e.attachEvent("on"+t,r)},o=function(e,t,r,a){n?e.removeEventListener(t,r,!!a):e.detachEvent("on"+t,r)},s=function(e,t,n){var a;r.createEvent?(a=r.createEvent("HTMLEvents"),a.initEvent(t,!0,!1),a=y(a,n),e.dispatchEvent(a)):r.createEventObject&&(a=r.createEventObject(),a=y(a,n),e.fireEvent("on"+t,a))},u=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},l=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){l(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){e.className=u((" "+e.className+" ").replace(" "+t+" "," "))},f=function(e){return/Array/.test(Object.prototype.toString.call(e))},h=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){return e%4===0&&e%100!==0||e%400===0},m=function(e,t){return[31,p(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},g=function(e){h(e)&&e.setHours(0,0,0,0)},v=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var r,a;for(r in t)a=void 0!==e[r],a&&"object"==typeof t[r]&&void 0===t[r].nodeName?h(t[r])?n&&(e[r]=new Date(t[r].getTime())):f(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=y({},t[r],n):(n||!a)&&(e[r]=t[r]);return e},_={field:null,bound:void 0,position:"bottom left",format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},b=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},w=function(e,t,n,r,a){if(a)return'<td class="is-empty"></td>';var i=[];return r&&i.push("is-disabled"),n&&i.push("is-today"),t&&i.push("is-selected"),'<td data-day="'+e+'" class="'+i.join(" ")+'"><button class="pika-button" type="button">'+e+"</button></td>"},k=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},$=function(e){return"<tbody>"+e.join("")+"</tbody>"},x=function(e){var t,n=[];for(t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+b(e,t)+'">'+b(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},S=function(e){var t,n,r,a,i,o=e._o,s=e._m,u=e._y,l=u===o.minYear,c=u===o.maxYear,d='<div class="pika-title">',h=!0,p=!0;for(r=[],t=0;12>t;t++)r.push('<option value="'+t+'"'+(t===s?" selected":"")+(l&&t<o.minMonth||c&&t>o.maxMonth?"disabled":"")+">"+o.i18n.months[t]+"</option>");for(a='<div class="pika-label">'+o.i18n.months[s]+'<select class="pika-select pika-select-month">'+r.join("")+"</select></div>",f(o.yearRange)?(t=o.yearRange[0],n=o.yearRange[1]+1):(t=u-o.yearRange,n=1+u+o.yearRange),r=[];n>t&&t<=o.maxYear;t++)t>=o.minYear&&r.push('<option value="'+t+'"'+(t===u?" selected":"")+">"+t+"</option>");return i='<div class="pika-label">'+u+o.yearSuffix+'<select class="pika-select pika-select-year">'+r.join("")+"</select></div>",d+=o.showMonthAfterYear?i+a:a+i,l&&(0===s||o.minMonth>=s)&&(h=!1),c&&(11===s||o.maxMonth<=s)&&(p=!1),d+='<button class="pika-prev'+(h?"":" is-disabled")+'" type="button">'+o.i18n.previousMonth+"</button>",d+='<button class="pika-next'+(p?"":" is-disabled")+'" type="button">'+o.i18n.nextMonth+"</button>",d+="</div>"},C=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+x(e)+$(t)+"</table>"},D=function(o){var s=this,u=s.config(o);s._onMouseDown=function(e){if(s._v){e=e||window.event;var t=e.target||e.srcElement;if(t){if(!l(t,"is-disabled")){if(l(t,"pika-button")&&!l(t,"is-empty"))return s.setDate(new Date(s._y,s._m,parseInt(t.innerHTML,10))),u.bound&&a(function(){s.hide()},100),void 0;l(t,"pika-prev")?s.prevMonth():l(t,"pika-next")&&s.nextMonth()}if(l(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},s._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(l(t,"pika-select-month")?s.gotoMonth(t.value):l(t,"pika-select-year")&&s.gotoYear(t.value))},s._onInputChange=function(n){var r;n.firedBy!==s&&(t?(r=e(u.field.value,u.format),r=r&&r.isValid()?r.toDate():null):r=new Date(Date.parse(u.field.value)),s.setDate(h(r)?r:null),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){s._c||(s._b=a(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,r=t;if(t){!n&&l(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),i(t,"change",s._onChange)));do if(l(r,"pika-single"))return;while(r=r.parentNode);s._v&&t!==u.trigger&&s.hide()}},s.el=r.createElement("div"),s.el.className="pika-single"+(u.isRTL?" is-rtl":""),i(s.el,"mousedown",s._onMouseDown,!0),i(s.el,"change",s._onChange),u.field&&(u.bound?r.body.appendChild(s.el):u.field.parentNode.insertBefore(s.el,u.field.nextSibling),i(u.field,"change",s._onInputChange),u.defaultDate||(u.defaultDate=t&&u.field.value?e(u.field.value,u.format).toDate():new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var c=u.defaultDate;h(c)?u.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),u.bound?(this.hide(),s.el.className+=" is-bound",i(u.trigger,"click",s._onInputClick),i(u.trigger,"focus",s._onInputFocus),i(u.trigger,"blur",s._onInputBlur)):this.show()};return D.prototype={config:function(e){this._o||(this._o=y({},_,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,h(t.minDate)||(t.minDate=!1),h(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&(g(t.minDate),t.minYear=t.minDate.getFullYear(),t.minMonth=t.minDate.getMonth()),t.maxDate&&(g(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),f(t.yearRange)){var r=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||r,t.yearRange[1]=parseInt(t.yearRange[1],10)||r}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||_.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return h(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,r){t&&e.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return h(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),h(e)){var n=this._o.minDate,r=this._o.maxDate;h(n)&&n>e?e=n:h(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),g(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){h(e)&&(this._y=e.getFullYear(),this._m=e.getMonth(),this.draw())},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e=parseInt(e,10))||(this._m=0>e?0:e>11?11:e,this.draw())},nextMonth:function(){++this._m>11&&(this._m=0,this._y++),this.draw()},prevMonth:function(){--this._m<0&&(this._m=11,this._y--),this.draw()},gotoYear:function(e){isNaN(e)||(this._y=parseInt(e,10),this.draw())},setMinDate:function(e){this._o.minDate=e},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,r=t.maxYear,i=t.minMonth,o=t.maxMonth;if(this._y<=n&&(this._y=n,!isNaN(i)&&this._m<i&&(this._m=i)),this._y>=r&&(this._y=r,!isNaN(o)&&this._m>o&&(this._m=o)),this.el.innerHTML=S(this)+this.render(this._y,this._m),t.bound&&(this.adjustPosition(),"hidden"!==t.field.type&&a(function(){t.trigger.focus()},1)),"function"==typeof this._o.onDraw){var s=this;a(function(){s._o.onDraw.call(s)},0)}}},adjustPosition:function(){var e,t,n,a=this._o.trigger,i=a,o=this.el.offsetWidth,s=this.el.offsetHeight,u=window.innerWidth||r.documentElement.clientWidth,l=window.innerHeight||r.documentElement.clientHeight,c=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop;if("function"==typeof a.getBoundingClientRect)n=a.getBoundingClientRect(),e=n.left+window.pageXOffset,t=n.bottom+window.pageYOffset;else for(e=i.offsetLeft,t=i.offsetTop+i.offsetHeight;i=i.offsetParent;)e+=i.offsetLeft,t+=i.offsetTop;(e+o>u||this._o.position.indexOf("right")>-1&&e-o+a.offsetWidth>0)&&(e=e-o+a.offsetWidth),(t+s>l+c||this._o.position.indexOf("top")>-1&&t-s-a.offsetHeight>0)&&(t=t-s-a.offsetHeight),this.el.style.cssText=["position: absolute","left: "+e+"px","top: "+t+"px"].join(";")},render:function(e,t){var n=this._o,r=new Date,a=m(e,t),i=new Date(e,t,1).getDay(),o=[],s=[];g(r),n.firstDay>0&&(i-=n.firstDay,0>i&&(i+=7));for(var u=a+i,l=u;l>7;)l-=7;u+=7-l;for(var c=0,d=0;u>c;c++){var f=new Date(e,t,1+(c-i)),p=n.minDate&&f<n.minDate||n.maxDate&&f>n.maxDate,y=h(this._d)?v(f,this._d):!1,_=v(f,r),b=i>c||c>=a+i;s.push(w(1+(c-i),y,_,p,b)),7===++d&&(o.push(k(s,n.isRTL)),s=[],d=0)}return C(n,o)},isVisible:function(){return this._v},show:function(){this._v||(this._o.bound&&i(r,"click",this._onClick),d(this.el,"is-hidden"),this._v=!0,this.draw(),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&o(r,"click",this._onClick),this.el.style.cssText="",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"change",this._onChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},D}),function(e,t){var n="placeholder"in t.createElement("input")&&"placeholder"in t.createElement("textarea"),r={cssClass:"placeholder",normalize:!0},a=e.fn.val,i=function(t){return e.nodeName(t,"input")||e.nodeName(t,"textarea")},o=function(t){for(var n,r=["placeholder","name","id"],a={},i=0,o=t.attributes.length;o>i;i++)n=t.attributes[i],n.specified&&0>e.inArray(n.name,r)&&(a[n.name]=n.value);return a},s=function(e){e.css({position:"",left:""})},u=function(e){e.css({position:"absolute",left:"-9999em"})};(!n||r.normalize)&&(n?n&&r.normalize&&(e.fn.val=function(){var t=arguments;return this[0]?t.length?this.each(function(n,r){var o=e(r),s=e.data(r,"placeholderEnhanced"),u=r._placeholder;s&&u&&i(r)&&(t[0]||r.value===u?t[0]&&o.hasClass(s.cssClass)&&o.removeClass(s.cssClass):o.addClass(s.cssClass).attr("placeholder",u)),a.apply(o,t)}):a.apply(this,t):void 0}):e.fn.val=function(){var t,n=arguments,r=this[0];return r?n.length?this.each(function(t,r){var o,s=e(r),u=e.data(r,"placeholderEnhanced");o=s.attr("placeholder"),u&&o&&i(r)?n[0]||r.value===o?n[0]&&(s.hasClass(u.cssClass)&&s.removeClass(u.cssClass),a.apply(s,n)):r.value=s.addClass(u.cssClass).attr("placeholder"):a.apply(s,n)}):(t=e(r).attr("placeholder"))&&i(r)?r.value===t?"":r.value:a.apply(this,n):void 0},e.fn.placeholderEnhanced=function(t){var i=e.extend(r,t);return!this.length||n&&!i.normalize?void 0:"destroy"===t?this.filter(function(t,n){return e.data(n,"placeholderEnhanced")}).removeClass(i.cssClass).each(function(t,r){var i=e(r).unbind(".placeholder"),o="password"===r.type,u=i.attr("placeholder");n?delete r._placeholder:(r.value===u&&(r.value=""),o&&(s(i),i.prev().unbind(".placeholder").remove())),e.fn.val=a,e.removeData(r,"placeholderEnhanced")}):this.each(function(t,r){if(!e.data(r,"placeholderEnhanced")){e.data(r,"placeholderEnhanced",i);var a=e(r),l="password"===r.type,c=a.attr("placeholder"),d=null,f=null,h=null;n?n&&i.normalize&&(r._placeholder=a.attr("placeholder"),f=function(){r.value||a.addClass(i.cssClass).attr("placeholder",c)},h=function(){a.removeAttr("placeholder").removeClass(i.cssClass)}):(f=function(){a.val()?a.val()&&l&&h():l?(s(d),u(a)):a.val(c).addClass(i.cssClass)},l?(h=function(){s(a),u(d)},d=e("<input>",e.extend(o(r),{type:"text",value:c,tabindex:-1})).addClass(i.cssClass).bind("focus.placeholder",function(){a.trigger("focus.placeholder")}).insertBefore(a)):h=function(){a.hasClass(i.cssClass)&&(r.value="",a.removeClass(i.cssClass))}),a.bind("blur.placeholder",f).bind("focus.placeholder",h).trigger("blur.placeholder")}})},e(function(){e("input[placeholder], textarea[placeholder]").placeholderEnhanced()}))}(jQuery,document),$(document).ready(function(){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(e){e.fn.checkedPolyfill=function(){function t(){var t,n=e('<style type="text/css"> #checkedPolyfill-test:checked { margin-left: 123456px; display: none; } </style>}'),r=e('<input type="checkbox" checked id="checkedPolyfill-test" />');return e("head").append(n),e("body").append(r),t="123456px"===r.css("margin-left")?!0:!1,n.remove(),r.remove(),t}function n(t){var n=e('label[for="'+t.attr("id")+'"]');return t.prop("checked")?(t.addClass("checked"),n.addClass("checked")):(t.removeClass("checked"),n.removeClass("checked")),t}return t()?!1:this.each(function(){var t=e(this);"radio"===t.prop("type")?e('input[name="'+t.prop("name")+'"]').change(function(){n(t)}):"checkbox"===t.prop("type")&&t.change(function(){n(t)}),n(t)})}}(jQuery),$(".lt-ie9 body").on("click","label",function(){var e=$(this).attr("for");$("#"+e).trigger("click")}),$("input[placeholder], textarea[placeholder]").placeholderEnhanced(),$("input:radio, input:checkbox").checkedPolyfill()}),function(){jQuery(function(e){var t;return t=function(){var t;return t={new_start:e(this).data("dateStart"),reschedule_all:e("#reschedule_all").val()},e.ajax({type:"POST",url:e(this).data("url"),dataType:"json",data:t,success:function(e){var t;return e.analytics&&"undefined"!=typeof mixpanel&&null!==mixpanel&&mixpanel.track("booking rescheduled",e.analytics),t=e.redirect_path||e.legacy_redirect,location.href=t}})},e("body").on("click",".js-reschedule-calendar .resubmit-price",t)})}.call(this),function(){var e=document.URL,t=e.split("/"),n=t[t.length-1],r={},a=[];window.RecruiterBoxProcessor={},window.JobSort={},$(document).ready(function(){$("#open-loc-sort").change(function(){JobSort.locationSort()}),$("#tech-sort").change(function(){JobSort.techLocationSort()})}),"careers"==n&&$.ajax({url:"https://app.recruiterbox.com/api/v0.1/opening/list?api_key=c4a232211c604612bc00639404f8eb47",type:"GET",dataType:"JSONP",success:function(e){for(var t=[],n=e,a=[],i=0;i<n.length;i++)if(0==n[i].archived&&!n[i].private){var o=RecruiterBoxProcessor.getJob(n[i]);t.push(o),a.push(o.loc)}r=_.groupBy(t,function(e){return e.type});for(var s in r){r[s]="engineering"==s?_(r[s]).sortBy("tech_id"):_(r[s]).sortBy("title");for(var u=0;u<r[s].length;u++){var l=RecruiterBoxProcessor.createString(r[s][u],u),c="#open-"+s;$(c).append(l)}}JobSort.fillLocations(a)}}),"tech"==n&&$.ajax({url:"https://app.recruiterbox.com/api/v0.1/opening/list?api_key=c4a232211c604612bc00639404f8eb47",type:"GET",dataType:"JSONP",success:function(e){for(var t=e,n=[],r=0;r<t.length;r++)if(0==t[r].archived){var i=RecruiterBoxProcessor.getJob(t[r]);"engineering"==i.type&&(a.push(i),n.push(i.loc))}a=_(a).sortBy("tech_id");for(var o=0;o<a.length;o++){var s=RecruiterBoxProcessor.createString(a[o],o);$("#tech").append(s)}JobSort.fillLocations(n)}}),RecruiterBoxProcessor.createString=function(e,t){if("careers"==n)var r="<div id='open-"+e.type+t.toString()+"'> <div class='title_space'> <a href='"+e.link+"'>"+e.title+"</a> </div> <div class='loc_space'>"+e.loc+" </div> </div>";else if("tech"==n)var r="<div id='tech"+t.toString()+"'> <div class='title_space'> <a href='"+e.link+"'>"+e.title+"</a> </div> <div class='loc_space'>"+e.loc+" </div> </div>";return r},RecruiterBoxProcessor.getJob=function(e){var t="",n=e.labels[0],r=0;if(e.loc_state){var a=e.loc_city.split(",");t=a[0]+", "+e.loc_state}else{var a=e.loc_city.split(",");t=a[0]}r=e.title.indexOf("Stack")>-1?1:e.title.indexOf("Android")>-1?2:e.title.indexOf("iOS")>-1?3:e.title.indexOf("Front")>-1?4:e.title.indexOf("Ruby")>-1?5:e.title.indexOf("Test")>-1?6:7;var i={title:e.title,loc:t,link:e.hosted_url,type:n.split(" ")[0].toLowerCase(),tech_id:r};return i},JobSort.fillLocations=function(e){var t;"careers"==n?t="#open-loc-sort":"tech"==n&&(t="#tech-sort");var e=_.uniq(e);e.sort();for(var r=0;r<e.length;r++)$(t).append("<option value = '"+e[r]+"' >"+e[r]+"</option>")},JobSort.locationSort=function(){var e=$("#open-loc-sort").val();for(var t in r){var n=0,a="#"+t;$(a).show();for(var i=0;i<r[t].length;i++){var o="#open-"+t+i.toString();$(o).show(),"none"!=e&&r[t][i].loc!=e&&($(o).hide(),n++)}n==r[t].length&&$(a).hide()}},JobSort.techLocationSort=function(){var e=$("#tech-sort").val(),t=0;$("#tech-container").show();for(var n=0;n<a.length;n++){var r="#tech"+n.toString();$(r).show(),"none"!=e&&a[n].loc!=e&&($(r).hide(),t++)}t==a.length&&$("#tech-container").hide()}}(),function(){jQuery(function(){return $(".nav-drawer").length?($(".nav-drawer-trigger").click(function(){return $(".non-drawer-content-overlay").is(":hidden")?($(".non-drawer-content-overlay").show(),$("body").addClass("is-pushed-left")):void 0}),$(".non-drawer-content-overlay").on("touchstart click",function(e){return $("body").hasClass("is-pushed-left")?($("body").removeClass("is-pushed-left"),setTimeout(function(){return $(".non-drawer-content-overlay").hide()},250),e.preventDefault(),e.cancelBubble=!0):void 0})):void 0})}.call(this),function(){jQuery(function(){return $("#application-handyman-select").click(function(){return $("#candidate_provider_is_home_cleaning").prop("checked",!1),$("#candidate_provider_is_handyman").prop("checked",!0)}),$("#application-cleaner-select").click(function(){return $("#candidate_provider_is_home_cleaning").prop("checked",!0),$("#candidate_provider_is_handyman").prop("checked",!1)}),$(".email-input").focus(function(){return $(".email-icon").addClass("black")}),$(".email-input").focusout(function(){return $(".email-icon").removeClass("black")}),$("input:radio[name=was_referred]").click(function(){var e;return e=$(this).val(),e>0?$("#referral_name").show():$("#referral_name").hide()}),$(".canadian-states").length>0&&($('option[value="ON"]').attr("selected","selected").parent().focus(),$("#candidate_provider_address_state").next().text($('option[value="ON"]').text())),$(".hide-phone-number").length>0&&$(".phone-top").hide(),$("#js-handyman-application").length>0?$("#candidate_provider_max_hours_per_week").val($("#max_hours_handyman").val()):$("#js-home-cleaning-application").length>0&&($("#candidate_provider_max_hours_per_week").val($("#max_hours_cleaner").val()),$("input:radio[name='candidate_provider[has_pro_experience]']").click(function(){var e;return e=$(this).val(),"true"===e?$("#cleaner-experience-options").show():"false"===e?$("#cleaner-experience-options").hide():void 0})),$(".max-hours-select").on("change",function(){return $("#candidate_provider_max_hours_per_week").val($(this).val())}),$("#terms-of-use").click(function(){return $("#terms-content").show()}),$("#close-terms").click(function(){return $("#terms-content").hide()}),$(".candidate-quiz-error-message").length>0?$(".headline").hide():void 0})}.call(this),function(){jQuery(function(){var e;return $("#background_check_error").hide(),window.backgroundCheckFormValidator=new FormValidator("background_check",[{name:"candidate_provider_first_name",rules:"required",error_message:"Please choose a valid first name."},{name:"candidate_provider_last_name",rules:"required",error_message:"Please choose a valid last name."},{name:"candidate_provider_address_line_one",rules:"required",error_message:"Please enter a valid state."},{name:"candidate_provider_address_city",rules:"required",error_message:"Please enter a valid city."},{name:"candidate_provider_address_state",rules:"required",error_message:"Please choose a valid state."},{name:"candidate_provider_ssn",rules:"required|min_length[11]|max_length[11]",error_message:"Please enter a proper social security number (9 digits)."},{name:"dob_month",rules:"required",error_message:"Please choose a valid month of birth."},{name:"dob_day",rules:"required",error_message:"Please choose a valid day of birth."},{name:"dob_year",rules:"required",error_message:"Please choose a valid year of birth."},{name:"consent",rules:"required"}],function(e,t){var n,r,a,i;if(formErrorHandler.clearErrors(),e.length){for(t.preventDefault(),formErrorHandler.displayErrors(e),a=0,i=e.length;i>a;a++)n=e[a],r=n.message;return $("#background_check_error").show(),$("#background_check_error").html(r)}return backgroundFormHandler.processForm(t)}),$("#candidate_provider_ssn").on("blur",function(){var e,t,n;return n=/^\d{3}\-\d{2}-\d{4}$/,t=$("#candidate_provider_ssn").val(),n.test(t)||(e=t.replace(/\D/g,""),9!==e.length)?void 0:$("#candidate_provider_ssn").val(e.replace(/(\d{3})(\d{2})(\d{4})/,"$1-$2-$3"))}),e="/hirease_redirect",window.backgroundFormHandler={processForm:function(t){var n,r;return $(".js-bgcheck-button").prop("disabled",!0),t.preventDefault(),n=$("#dob_year").val()+"-"+$("#dob_month").val()+"-"+$("#dob_day").val(),r={SSN:$("#candidate_provider_ssn").val().replace(/-/g,""),date_of_birth:n,salesforce_id:$("#candidate_provider_salesforce_id").val().trim()},$.ajax({type:"POST",data:r,dataType:"text",url:e,timeout:4e3,success:function(e){return e=JSON.parse('{"'+decodeURI(e.replace(/&/g,'","').replace(/\=/g,'":"'))+'"}'),e.Token.length?($("#candidate_provider_he_token").val(e.Token),$("#candidate_provider_ssn").val(""),$("#candidate_provider_he_token").val().length?t.originalEvent.target.submit():void 0):t.preventDefault()},error:function(){return $(".js-bgcheck-button").prop("disabled",!1),$("#background_check_error").show(),$("#background_check_error").html("Your request timed out, please try again.")}})}}})}.call(this),function(){jQuery(function(e){var t,n,r,a;return t=function(t,n){var i,o,s,u,l,c,d,f,h,p,m,g,v;for(l=e(".step-ribbon-"+t),d=l.outerWidth(),c=l.outerHeight(),u=n/a[""+t].defaultWidth*l.outerWidth(),u=[u,n].reduce(function(e,t){return Math.min(e,t)}),i=3,f=r(t,d,c),h={x:f[0].x,y:[f[0].y]},m=TweenLite.to(h,u,{bezier:f,ease:Linear.easeNone}),f.shift(),v=[],o=g=0;u>=0?u>g:g>u;o=u>=0?++g:--g)m.time(o),s=""+h.x/d*100+"%",p=""+h.y/c*100+"%",v.push(e("<div />",{id:"step-ribbon-"+t+"-dot-"+o}).addClass("ribbon-dot").css({left:s,top:p}).appendTo(".step-ribbon-"+t));return v},a={1:{pathObject:[{x:0,y:0},{x:5,y:35},{x:35,y:80},{x:190,y:120},{x:230,y:152}],defaultWidth:235,defaultHeight:152.4},2:{pathObject:[{x:0,y:0},{x:35,y:55},{x:400,y:150},{x:477,y:204}],defaultWidth:477,defaultHeight:204},3:{pathObject:[{x:0,y:0},{x:35,y:65},{x:400,y:140},{x:477,y:204}],defaultWidth:477,defaultHeight:204},4:{pathObject:[{x:0,y:0},{x:35,y:50},{x:190,y:100},{x:240,y:150}],defaultWidth:237,defaultHeight:152.4}},r=function(t,n,r){var i,o,s;return i=e(".step-ribbon-"+t),o=n/a[""+t].defaultWidth,s=r/a[""+t].defaultHeight,a[""+t].pathObject.map(function(e){return{x:e.x*o,y:e.y*s}})},n=function(){return t(1,26),t(2,44),t(3,44),t(4,26)},e(".step-ribbon-start").is(":visible")&&n(),e(".ribbon-dot").viewportChecker({classToAdd:"past-dot",repeat:!0,offset:350}),e(".steps-row").viewportChecker({classToAdd:"fadeInUpSubtle",repeat:!1,offset:100})})}.call(this),function(){jQuery(function(){var e;return e=$(".carousel-controller input"),e.length?(e.on("click",function(t){return e.each(function(){var e;return e=$(".js-testimonial-"+$(this).val()),t.target===this?e.fadeIn().removeClass("hidden"):e.hide()})}),function(){var t;return t=0,setInterval(function(){return e.eq(t).trigger("click"),t+=1,3===t?t=0:void 0},4500)}()):void 0})}.call(this),function(){jQuery(function(e){var t,n;return t=e("body .js-with-icon-placeholder"),n=function(){return""===t.val()?t.next().removeClass("hidden"):t.next().addClass("hidden")},t.blur(function(){return n()}),t.length?n():void 0})}.call(this),$(document).foundation();